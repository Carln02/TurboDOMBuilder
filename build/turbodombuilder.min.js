var Turbo=function(t){"use strict";function e(t){for(;t;){if(t.shadowRoot)return t.shadowRoot;t=t.parentElement}return document.head}function n(t,e=document.head){if(!t)return;const n=x({innerHTML:t});e.appendChild(n)}function i(t,i={},r=!1){return Object.keys(i).forEach((s=>{switch(s){case"tag":return;case"text":if(!(t instanceof HTMLElement))return;return void(t.innerText=i.text);case"style":if(!(t instanceof HTMLElement||t instanceof SVGElement))return;return void(t.style.cssText+=i.style);case"stylesheet":return void n(i.stylesheet,e(t));case"id":return void(t.id=i.id);case"classes":return void t.addClass(i.classes);case"listeners":return void Object.keys(i.listeners).forEach((e=>t.addListener(e,i.listeners[e])));case"children":return void t.addChild(i.children);case"parent":return void i.parent.addChild(t);default:if(r)return;try{t[s]=i[s]}catch(t){console.error(t)}return}})),t}const r="http://www.w3.org/2000/svg",s={a:SVGAElement,animate:SVGAnimateElement,animateMotion:SVGAnimateMotionElement,animateTransform:SVGAnimateTransformElement,circle:SVGCircleElement,clipPath:SVGClipPathElement,defs:SVGDefsElement,desc:SVGDescElement,ellipse:SVGEllipseElement,feBlend:SVGFEBlendElement,feColorMatrix:SVGFEColorMatrixElement,feComponentTransfer:SVGFEComponentTransferElement,feComposite:SVGFECompositeElement,feConvolveMatrix:SVGFEConvolveMatrixElement,feDiffuseLighting:SVGFEDiffuseLightingElement,feDisplacementMap:SVGFEDisplacementMapElement,feDistantLight:SVGFEDistantLightElement,feDropShadow:SVGFEDropShadowElement,feFlood:SVGFEFloodElement,feFuncA:SVGFEFuncAElement,feFuncB:SVGFEFuncBElement,feFuncG:SVGFEFuncGElement,feFuncR:SVGFEFuncRElement,feGaussianBlur:SVGFEGaussianBlurElement,feImage:SVGFEImageElement,feMerge:SVGFEMergeElement,feMergeNode:SVGFEMergeNodeElement,feMorphology:SVGFEMorphologyElement,feOffset:SVGFEOffsetElement,fePointLight:SVGFEPointLightElement,feSpecularLighting:SVGFESpecularLightingElement,feSpotLight:SVGFESpotLightElement,feTile:SVGFETileElement,feTurbulence:SVGFETurbulenceElement,filter:SVGFilterElement,foreignObject:SVGForeignObjectElement,g:SVGGElement,image:SVGImageElement,line:SVGLineElement,linearGradient:SVGLinearGradientElement,marker:SVGMarkerElement,mask:SVGMaskElement,metadata:SVGMetadataElement,mpath:SVGMPathElement,path:SVGPathElement,pattern:SVGPatternElement,polygon:SVGPolygonElement,polyline:SVGPolylineElement,radialGradient:SVGRadialGradientElement,rect:SVGRectElement,script:SVGScriptElement,set:SVGSetElement,stop:SVGStopElement,style:SVGStyleElement,svg:SVGSVGElement,switch:SVGSwitchElement,symbol:SVGSymbolElement,text:SVGTextElement,textPath:SVGTextPathElement,title:SVGTitleElement,tspan:SVGTSpanElement,use:SVGUseElement,view:SVGViewElement};function o(t){return Object.keys(s).includes(t)||t?.startsWith("svg")}const l="http://www.w3.org/1998/Math/MathML",a={annotation:MathMLElement,"annotation-xml":MathMLElement,maction:MathMLElement,math:MathMLElement,merror:MathMLElement,mfrac:MathMLElement,mi:MathMLElement,mmultiscripts:MathMLElement,mn:MathMLElement,mo:MathMLElement,mover:MathMLElement,mpadded:MathMLElement,mphantom:MathMLElement,mprescripts:MathMLElement,mroot:MathMLElement,mrow:MathMLElement,ms:MathMLElement,mspace:MathMLElement,msqrt:MathMLElement,mstyle:MathMLElement,msub:MathMLElement,msubsup:MathMLElement,msup:MathMLElement,mtable:MathMLElement,mtd:MathMLElement,mtext:MathMLElement,mtr:MathMLElement,munder:MathMLElement,munderover:MathMLElement,semantics:MathMLElement};function c(t){return Object.keys(a).includes(t)||t?.startsWith("math")}function u(t={}){let e;return e=t.namespace?"svg"==t.namespace?document.createElementNS(r,t.tag):"mathML"==t.namespace?document.createElementNS(l,t.tag):document.createElementNS(t.namespace,t.tag):document.createElement(t.tag||"div"),t.shadowDOM&&e.attachShadow({mode:"open"}),i(e,t),e}function h(t){return(e={})=>(e.tag=t,u(e))}const d=h("a"),m=h("canvas"),p=h("div"),f=h("form"),g=h("h1"),y=h("h2"),E=h("h3"),v=h("h4"),b=h("h5"),T=h("h6"),M=h("img"),w=h("input"),S=h("link"),C=h("p"),x=h("style"),k=h("textarea"),L=h("video");function P(t){let e=u(t);return e.style.display="flex",e.style.flexDirection="column",e}function F(t){let e=u(t);return e.style.display="flex",e.style.flexDirection="row",e}function D(t){return t.shadowRoot?t.shadowRoot:t}function I(t,e){if(!t||!e)return t;let n=D(t);try{Array.isArray(e)?e.forEach((t=>n.appendChild(t))):n.appendChild(e)}catch(t){console.error(t)}return t}function A(t,e,n){if(!t||!e)return t;if(!n)return t.addChild(e);let i=D(t);try{Array.isArray(e)?e.forEach((t=>i.insertBefore(t,n))):i.insertBefore(e,n)}catch(t){console.error(t)}return t}function G(t){if(!t)return t;try{Array.from(D(t).children).forEach((t=>t.remove()))}catch(t){console.error(t)}return t}function V(t,e){if(!t||!e)return t;let n=D(t);try{Array.isArray(e)?e.forEach((t=>n.removeChild(t))):n.removeChild(e)}catch(t){console.error(t)}return t}function _(t,e){if(!t||!e)return t;try{"string"==typeof e&&(e=e.split(" ")),e.filter((t=>t.trim().length>0)).forEach((e=>t.classList.add(e)))}catch(t){console.error(t)}return t}function O(t,e){if(!t||!e)return t;try{"string"==typeof e&&(e=e.split(" ")),e.filter((t=>t.trim().length>0)).forEach((e=>t.classList.remove(e)))}catch(t){console.error(t)}return t}function N(t,e,n){if(!t||!e)return t;try{"string"==typeof e&&(e=e.split(" ")),e.filter((t=>t.trim().length>0)).forEach((e=>{null!=n?t.classList.toggle(e,n):t.classList.toggle(e)}))}catch(t){console.error(t)}return t}function B(t,e){if(!t||!e)return null;for(;t&&!(t instanceof e);)t=t.parentElement;return t||null}function H(t,e,n,i){if(!t)return t;return t.addEventListener(e,(e=>{"function"==typeof n?n(e,t):"object"==typeof n&&n.handleEvent&&n.handleEvent(e)}),i),t}function R(t){if(t&&0!=t.length)return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function j(t,e,n){let i=function(t,e){for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}(t,e)||{enumerable:!0,configurable:!0};Object.defineProperty(t,e,{get:i.get||function(){return this["__"+e]},set:function(t){this["__"+e]!==t&&(i.set?i.set.call(this,t):this["__"+e]=t,this.setAttribute&&"function"==typeof this.setAttribute&&this.setAttribute(n,t.toString()))},enumerable:i.enumerable,configurable:i.configurable})}const W=t=>e=>(e.observedAttributes||(e.observedAttributes=[]),e.observedFields&&e.observedFields.forEach((t=>{const n=R(t);e.observedAttributes.push(n),j(e.prototype,t,n)})),customElements.define(t,e),e);function K(t,e){let n=t.constructor;n.observedFields||(n.observedFields=[]),n.observedFields.includes(e)||n.observedFields.push(e)}function $(t){if(t&&0!=t.length)return t.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))}class U extends HTMLElement{constructor(t={}){super(),t.shadowDOM&&this.attachShadow({mode:"open"}),this.setProperties(t,!0)}attributeChangedCallback(t,e,n){null!=n&&n!=e&&(this[$(t)]=n)}static config={shadowDOM:!1};static configure(t){Object.entries(t).forEach((([t,e])=>{void 0!==e&&(this.config[t]=e)}))}}class z{callbacks=new Set;add(t){this.callbacks.add(t)}remove(t){return this.callbacks.delete(t)}fire(...t){for(const e of this.callbacks)try{e(...t)}catch(t){console.error("Error invoking callback:",t)}}clear(){this.callbacks.clear()}}var q,X,Y,Z,J;t.ActionMode=void 0,(q=t.ActionMode||(t.ActionMode={}))[q.none=0]="none",q[q.click=1]="click",q[q.longPress=2]="longPress",q[q.drag=3]="drag",t.ClickMode=void 0,(X=t.ClickMode||(t.ClickMode={}))[X.none=0]="none",X[X.left=1]="left",X[X.right=2]="right",X[X.middle=3]="middle",X[X.other=4]="other",X[X.key=5]="key",t.InputDevice=void 0,(Y=t.InputDevice||(t.InputDevice={}))[Y.unknown=0]="unknown",Y[Y.mouse=1]="mouse",Y[Y.trackpad=2]="trackpad",Y[Y.touch=3]="touch",t.TurboEventName=void 0,(Z=t.TurboEventName||(t.TurboEventName={})).keyPressed="turbo-key-pressed",Z.keyReleased="turbo-key-released",Z.click="turbo-click",Z.clickStart="turbo-click-start",Z.clickEnd="turbo-click-end",Z.move="turbo-move",Z.dragStart="turbo-drag-start",Z.drag="turbo-drag",Z.dragEnd="turbo-drag-end",Z.trackpadScroll="turbo-trackpad-scroll",Z.trackpadPinch="turbo-trackpad-pinch",Z.mouseWheel="turbo-mouse-wheel";class Q{x;y;constructor(t=0,e=("number"==typeof t?t:0)){"number"==typeof t?(this.x=t,this.y=e):"clientX"in t?(this.x=t.clientX,this.y=t.clientY):"x"in t?(this.x=t.x,this.y=t.y):(this.x=t[0],this.y=t[1])}static dist(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}static midPoint(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>t+e.x),0)/t.length,n=t.reduce(((t,e)=>t+e.y),0)/t.length;return new Q(e,n)}static max(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>Math.max(t,e.x)),-1/0),n=t.reduce(((t,e)=>Math.max(t,e.y)),-1/0);return new Q(e,n)}static min(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>Math.min(t,e.x)),1/0),n=t.reduce(((t,e)=>Math.min(t,e.y)),1/0);return new Q(e,n)}equals(t,e=0){return"number"==typeof t?this.x==t&&this.y==e:this.x==t.x&&this.y==t.y}add(t,e){return"number"==typeof t?new Q(this.x+t,this.y+(e||0==e?e:t)):new Q(this.x+t.x,this.y+t.y)}sub(t,e){return"number"==typeof t?new Q(this.x-t,this.y-(e||0==e?e:t)):new Q(this.x-t.x,this.y-t.y)}mul(t,e){return"number"==typeof t?new Q(this.x*t,this.y*(e||0==e?e:t)):new Q(this.x*t.x,this.y*t.y)}div(t,e){return"number"==typeof t?new Q(this.x/t,this.y/(e||0==e?e:t)):new Q(this.x/t.x,this.y/t.y)}abs(){return new Q(Math.abs(this.x),Math.abs(this.y))}max(){return Math.max(this.x,this.y)}min(){return Math.min(this.x,this.y)}copy(){return new Q(this.x,this.y)}arr(){return[this.x,this.y]}}class tt extends Map{enforceImmutability=!0;set(t,e){return super.set(t,this.enforceImmutability?this.copy(e):e)}get(t){const e=super.get(t);return this.enforceImmutability?this.copy(e):e}get first(){if(0==this.size)return null;const t=this.values().next().value;return this.enforceImmutability?this.copy(t):t}get last(){if(0==this.size)return null;const t=this.valuesArray()[this.size-1];return this.enforceImmutability?this.copy(t):t}keysArray(){return Array.from(this.keys())}valuesArray(){return Array.from(this.values())}copy(t){if(t&&"object"==typeof t){if(t instanceof Array)return t.map((t=>this.copy(t)));if(t.constructor&&t.constructor!=Object){if("function"==typeof t.clone)return t.clone();if("function"==typeof t.copy)return t.copy()}return{...t}}return t}mapKeys(t){const e=new tt;for(let[n,i]of this)e.set(t(n,i),i);return e}mapValues(t){const e=new tt;for(let[n,i]of this)e.set(n,t(n,i));return e}filter(t){const e=new tt;for(let[n,i]of this)t(n,i)&&e.set(n,i);return e}merge(t){for(let[e,n]of t)this.set(e,n);return this}}class et extends Event{clickMode;keys;firePosition;constructor(t,e,n,i,r){super(i,{bubbles:!0,cancelable:!0,...r}),this.clickMode=e,this.keys=n,this.firePosition=t}closest(t){return B(this.target,t)}get target(){return super.target||document}}class nt extends et{keyPressed;keyReleased;constructor(e,n,i,r,s=t.TurboEventName.keyPressed,o){super(null,i,r,s,{bubbles:!0,cancelable:!0,...o}),this.keyPressed=e,this.keyReleased=n}}class it extends et{delta;constructor(e,n,i,r){super(null,t.ClickMode.none,n,i,{bubbles:!0,cancelable:!0,...r}),this.delta=e}}class rt extends et{_origins;_previousPositions;_positions;constructor(e,n,i,r,s,o=t.TurboEventName.drag,l){super(i.first,r,s,o,{bubbles:!0,cancelable:!0,...l}),this.origins=e,this.previousPositions=n,this.positions=i}get origins(){return this._origins}set origins(t){this._origins=t}get previousPositions(){return this._previousPositions}set previousPositions(t){this._previousPositions=t}get positions(){return this._positions}set positions(t){this._positions=t}}class st{static _instance;_inputDevice=t.InputDevice.unknown;onInputDeviceChange=new z;currentKeys=[];currentAction=t.ActionMode.none;currentClick=t.ClickMode.none;origins;previousPositions;timer=null;moveThreshold=10;longPressDuration=500;constructor(){if(st.instance)return st.instance;st.instance=this,this.origins=new tt,this.previousPositions=new tt,this.initEvents()}initEvents(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),document.addEventListener("wheel",this.wheel,{passive:!1}),document.addEventListener("mousedown",this.pointerDown),document.addEventListener("mousemove",this.pointerMove),document.addEventListener("mouseup",this.pointerUp),document.addEventListener("mouseleave",this.pointerLeave),document.addEventListener("touchstart",this.pointerDown,{passive:!1}),document.addEventListener("touchmove",this.pointerMove,{passive:!1}),document.addEventListener("touchend",this.pointerUp,{passive:!1})}static get instance(){return this._instance}static set instance(t){this._instance=t}get inputDevice(){return this._inputDevice}set inputDevice(t){this.inputDevice!=t&&(this._inputDevice=t,this.onInputDeviceChange.fire(t))}keyDown=e=>{this.currentKeys.includes(e.key)||(this.currentKeys.push(e.key),document.dispatchEvent(new nt(e.key,null,this.currentClick,this.currentKeys,t.TurboEventName.keyPressed)))};keyUp=e=>{this.currentKeys.includes(e.key)&&(this.currentKeys.splice(this.currentKeys.indexOf(e.key),1),document.dispatchEvent(new nt(null,e.key,this.currentClick,this.currentKeys,t.TurboEventName.keyReleased)))};wheel=e=>{let n;e.preventDefault(),this.inputDevice!=t.InputDevice.trackpad&&(this.inputDevice=t.InputDevice.mouse),(Math.abs(e.deltaY)<=40||0!=e.deltaX)&&(this.inputDevice=t.InputDevice.trackpad),this.clearTimer(),this.setTimer((()=>{this.inputDevice==t.InputDevice.trackpad&&(this.inputDevice=t.InputDevice.mouse)})),n=this.inputDevice==t.InputDevice.trackpad&&e.ctrlKey?t.TurboEventName.trackpadPinch:e.ctrlKey?t.TurboEventName.trackpadScroll:t.TurboEventName.mouseWheel,document.dispatchEvent(new it(new Q(e.deltaX,e.deltaY),this.currentKeys,n))};pointerDown=e=>{e.preventDefault();const n=e instanceof TouchEvent;if(n?this.inputDevice=t.InputDevice.touch:this.inputDevice==t.InputDevice.unknown&&(this.inputDevice=t.InputDevice.mouse),n)Array.from(e.touches).forEach((t=>{const e=new Q(t);this.origins.set(t.identifier,e),this.previousPositions.set(t.identifier,e)})),this.setClickMode(e.touches.length,!0);else{const t=new Q(e);this.origins.set(0,t),this.previousPositions.set(0,t),this.setClickMode(e.button)}this.origins.first&&(this.currentAction=t.ActionMode.click,this.setTimer(this.clickTimer),this.fireClick(this.origins.first,t.TurboEventName.clickStart))};pointerMove=e=>{e.preventDefault();const n=e instanceof TouchEvent,i=new tt;if(n?Array.from(e.touches).forEach((t=>{i.set(t.identifier,new Q(t))})):i.set(0,new Q(e)),this.fireDrag(i,t.TurboEventName.move),this.currentAction!=t.ActionMode.none){if(this.currentAction!=t.ActionMode.drag){if(!Array.from(this.origins.entries()).some((([t,e])=>{const n=i.get(t);return n&&Q.dist(n,e)>this.moveThreshold})))return;this.fireDrag(i,t.TurboEventName.dragStart),this.currentAction=t.ActionMode.drag}this.fireDrag(i),i.forEach(((t,e)=>this.previousPositions.set(e,t)))}};pointerUp=e=>{e.preventDefault(),this.clearTimer();const n=new tt,i=e instanceof TouchEvent;i?Array.from(e.changedTouches).forEach((t=>{n.set(t.identifier,new Q(t))})):n.set(0,new Q(e)),this.currentAction==t.ActionMode.click&&this.fireClick(n.first),this.currentAction==t.ActionMode.drag&&this.fireDrag(n,t.TurboEventName.dragEnd),this.fireClick(this.origins.first,t.TurboEventName.clickEnd),i?Array.from(e.changedTouches).forEach((t=>{this.origins.delete(t.identifier),this.previousPositions.delete(t.identifier)})):(this.origins.clear(),this.previousPositions.clear()),this.currentAction=t.ActionMode.none,this.currentClick=t.ClickMode.none};pointerLeave=()=>{this.currentAction!=t.ActionMode.none&&(this.clearTimer(),this.currentAction!=t.ActionMode.drag&&(this.fireClick(this.origins.first,t.TurboEventName.clickEnd),this.currentAction=t.ActionMode.none))};fireClick(e,n=t.TurboEventName.click){(document.elementFromPoint(e.x,e.y)||document).dispatchEvent(new et(e,this.currentClick,this.currentKeys,n))}fireDrag(e,n=t.TurboEventName.drag){(document.elementFromPoint(e.first.x,e.first.y)||document).dispatchEvent(new rt(this.origins,this.previousPositions,e,this.currentClick,this.currentKeys,n))}clickTimer=()=>{this.currentAction==t.ActionMode.click&&(this.currentAction=t.ActionMode.longPress)};setTimer(t,e=this.longPressDuration){this.clearTimer(),this.timer=setTimeout((()=>{t(),this.clearTimer()}),e)}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}setClickMode(e,n=!1){switch(n&&e--,e){case-1:return void(this.currentClick=t.ClickMode.none);case 0:return void(this.currentClick=t.ClickMode.left);case 1:return void(this.currentClick=t.ClickMode.middle);case 2:return void(this.currentClick=t.ClickMode.right);default:return void(this.currentClick=t.ClickMode.other)}}}function ot(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function lt(t){let e=document.createElement("div");return e.innerHTML=t,e.children[0]}function at(t,e){t&&0!=t.length&&fetch(t).then((t=>{if(!t.ok)throw new Error("Network response was not ok while loading your SVG");return t.text()})).then((t=>{let n=lt(t);n&&e&&e(n)})).catch((t=>console.error("Error fetching SVG:",t)))}"function"==typeof SuppressedError&&SuppressedError;class ct{cache={};fetchSvg(t,e){if(!t||0==t.length)return;let n=this.cache[t];n?e(n.cloneNode(!0)):at(t,(n=>{this.cache[t]=n.cloneNode(!0),e(n)}))}}function ut(t){if(!t||0==t.length)return"";const e=t.match(/\.\S{1,4}$/);return e?e[0]:""}function ht(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}t.TurboIcon=class extends U{static{J=this}_element=null;_type;_directory;_icon;_iconColor=null;_onLoaded=null;static config={type:"svg",path:""};static cache=new ct;constructor(t){super(t),this.update(t)}update(t){t.unsetDefaultClasses?this.removeClass(J.config.defaultClasses):this.addClass(J.config.defaultClasses),this.type=t.type,this.directory=t.directory,t.iconColor&&(this.iconColor=t.iconColor),t.onLoaded&&(this._onLoaded=t.onLoaded),this.icon=t.icon}generateSvg(){this.clear(),J.cache.fetchSvg(this.path,(t=>{this.element||(this.element=t,this.addChild(this.element),this.element&&(this.iconColor&&(this.element.style.fill=this.iconColor),this._onLoaded&&this._onLoaded(this.element)))}))}generateImg(){if(this.element instanceof HTMLImageElement)return this.element.src=this.path,void(this.element.alt=this.icon);this.clear(),this.element=M({src:this.path,alt:this.icon,parent:this})}clear(){this.removeAllChildren(),this.element=null}get type(){return this._type}set type(t){t&&0!=t.length||(t=this.type||J.config.type||"svg"),this._type=t}get directory(){return this._directory}set directory(t){t||(t=this.directory||J.config.path||""),t.length>0&&!t.endsWith("/")&&(t+="/"),this._directory=t}get path(){let t=this.icon.endsWith("."+this.type)||0==this.type.length?"":"."+this.type;return this.directory+this.icon+t}get icon(){return this._icon}set icon(t){this.type=ut(t).substring(1),this._icon=t,"svg"==this.type?this.generateSvg():this.generateImg()}get iconColor(){return this._iconColor}set iconColor(t){this._iconColor=t,this.element instanceof SVGElement&&t&&(this.element.style.fill=t)}set element(t){this._element=t}get element(){return this._element}},ot([K],t.TurboIcon.prototype,"icon",null),ot([K],t.TurboIcon.prototype,"iconColor",null),t.TurboIcon=J=ot([W("turbo-icon")],t.TurboIcon);var dt;function mt(e){return new t.TurboButton(e)}ht("turbo-button{align-items:center;background-color:#dadada;border:1px solid #000;border-radius:.4em;color:#000;display:inline-flex;flex-direction:row;gap:.4em;padding:.5em .7em;text-decoration:none}turbo-button>h4{flex-grow:1}"),t.TurboButton=class extends U{static{dt=this}_elements;_buttonTextTag;static config={defaultTextTag:"h4"};constructor(t){super(t),this.elements={leftCustomElements:null,leftIcon:null,buttonText:null,rightIcon:null,rightCustomElements:null},this.buttonTextTag=t.customTextTag,t.unsetDefaultClasses||this.addClass(dt.config.defaultClasses),t.leftCustomElements&&(this.leftCustomElements=t.leftCustomElements),t.leftIcon&&(this.leftIcon=t.leftIcon),t.buttonText&&(this.buttonText=t.buttonText),t.rightIcon&&(this.rightIcon=t.rightIcon),t.rightCustomElements&&(this.rightCustomElements=t.rightCustomElements)}addAtPosition(t,e){if(!t)return;let n=0;for(let t in this.elements){if(t==e)break;this.elements[t]&&n++}this.addChildBefore(t,this.children[n])}removeElement(t){t&&(Array.isArray(t)?t.forEach((t=>this.removeChild(t))):this.removeChild(t))}get elements(){return this._elements}set elements(t){this._elements=t}get buttonTextTag(){return this._buttonTextTag}set buttonTextTag(t){t||(t=dt.config.defaultTextTag||"h4"),this._buttonTextTag=t}get leftCustomElements(){return this.elements.leftCustomElements}set leftCustomElements(t){this.addAtPosition(t,"leftCustomElements"),this.removeElement(this.leftCustomElements),this.elements.leftCustomElements=t}get leftIcon(){return this.elements.leftIcon}set leftIcon(e){"string"==typeof e&&(e=new t.TurboIcon({icon:e})),this.addAtPosition(e,"leftIcon"),this.removeElement(this.leftIcon),this.elements.leftIcon=e}get buttonText(){return this.elements.buttonText}set buttonText(t){if("string"==typeof t){if(this.buttonText&&"innerText"in this.buttonText)return void(this.buttonText.innerText=t);t=u({tag:this.buttonTextTag,text:t})}this.addAtPosition(t,"buttonText"),this.removeElement(this.buttonText),this.elements.buttonText=t}get rightIcon(){return this.elements.rightIcon}set rightIcon(e){"string"==typeof e&&(e=new t.TurboIcon({icon:e})),this.addAtPosition(e,"rightIcon"),this.removeElement(this.rightIcon),this.elements.rightIcon=e}get rightCustomElements(){return this.elements.rightCustomElements}set rightCustomElements(t){this.addAtPosition(t,"rightCustomElements"),this.removeElement(this.rightCustomElements),this.elements.rightCustomElements=t}},t.TurboButton=dt=ot([W("turbo-button")],t.TurboButton);function pt(e){return new t.TurboDropdownEntry(e)}ht("turbo-dropdown-entry{padding:.5em .7em;width:100%}turbo-dropdown-entry:hover{background-color:#d7d7d7}turbo-dropdown-entry:not(:last-child){border-bottom:.1em solid #bdbdbd}"),t.TurboDropdownEntry=class extends U{_value;_selected=!1;_selectedClass="";constructor(t){super(t),this.value=t.value,t.selectedClass&&(this.selectedClass=t.selectedClass),t.selected&&(this.selected=t.selected)}toggle(){this.selected=!this.selected}get value(){return this._value}set value(t){this._value=t,this.innerText=t}get selected(){return this._selected}set selected(t){this._selected=t,this.toggleClass(this.selectedClass,t)}get selectedClass(){return this._selectedClass}set selectedClass(t){this._selectedClass=t}},t.TurboDropdownEntry=ot([W("turbo-dropdown-entry")],t.TurboDropdownEntry);ht("turbo-dropdown{display:inline-block;position:relative}turbo-dropdown>:nth-child(2){background-color:#fff;border:.1em solid #5e5e5e;border-radius:.4em;display:flex;flex-direction:column;left:0;overflow:hidden;top:calc(100% + .4em);z-index:1}");var ft;function gt(e={}){return new t.TurboPopup(e)}function yt(t){if(!t)return NaN;const e=parseInt(t.substring(1),16);return.2126*((e>>16&255)/255)+.7152*((e>>8&255)/255)+.0722*((e>>0&255)/255)}function Et(t,e){if(!t||!e)return NaN;const n=yt(t),i=yt(e);return(Math.max(n,i)+.1)/(Math.min(n,i)+.1)}function vt(t,...e){let n="";return t.forEach(((t,i)=>{n+=t+(e[i]||"")})),n}ht("turbo-popup{position:fixed}"),t.TurboPopup=class extends U{viewportMargin=0;offsetFromParent=0;constructor(t={}){super(t),t.viewportMargin&&(this.viewportMargin=t.viewportMargin),t.offsetFromParent&&(this.offsetFromParent=t.offsetFromParent),this.addListeners(),this.show(!1)}addListeners(){document.addEventListener("scroll",(()=>this.show(!1))),document.addEventListener("click",(t=>{this.isShown&&!this.contains(t.target)&&this.show(!1)}))}recomputePosition(){const t=this.getBoundingClientRect(),e=this.parentElement.getBoundingClientRect(),n=window.getComputedStyle(this),i=window.getComputedStyle(this.parentElement),r=this.recomputeTop(t,e,n,i),s=this.recomputeLeft(t,e,n,i);this.recomputeMaxHeight(r,n,i),this.recomputeMaxWidth(s,n,i)}recomputeTop(t,e,n,i){let r;const s=t.height+this.offsetFromParent+this.viewportMargin+parseFloat(n.marginTop)+parseFloat(n.marginBottom);return r=window.innerHeight-e.bottom>=s?e.bottom+this.offsetFromParent:e.top>=s?e.top-t.height-this.offsetFromParent:e.bottom+this.offsetFromParent,this.setStyle("top",r+"px"),r}recomputeLeft(t,e,n,i){let r=e.left+e.width/2-t.width/2+parseFloat(i.marginLeft)-parseFloat(n.marginLeft);return r<this.viewportMargin?r=this.viewportMargin:r+t.width>window.innerWidth-this.viewportMargin&&(r=window.innerWidth-t.width-parseFloat(n.marginLeft)-parseFloat(n.marginRight)-this.viewportMargin),this.setStyle("left",r+"px"),r}recomputeMaxHeight(t,e,n){const i=window.innerHeight-t-this.viewportMargin-parseFloat(e.marginBottom)-parseFloat(e.marginTop)-parseFloat(n.marginBottom)-parseFloat(n.marginTop);e.maxHeight&&parseFloat(e.maxHeight)<=i||this.setStyle("maxHeight",i+"px")}recomputeMaxWidth(t,e,n){const i=window.innerWidth-t-this.viewportMargin-parseFloat(e.marginLeft)-parseFloat(e.marginRight)-parseFloat(n.marginLeft)-parseFloat(n.marginRight);e.maxWidth&&parseFloat(e.maxWidth)<=i||this.setStyle("maxWidth",i+"px")}clearMaxDimensions(){this.setStyle("maxHeight",""),this.setStyle("maxWidth","")}get isShown(){return"none"!=this.style.display}show(t){return this.isShown==t||(this.setStyle("display",t?"":"none"),t?requestAnimationFrame((()=>this.recomputePosition())):this.clearMaxDimensions()),this}toggle(){return this.show(!this.isShown)}},t.TurboPopup=ot([W("turbo-popup")],t.TurboPopup),t.TurboDropdown=class extends U{static{ft=this}selector;popup;_entries=[];underlyingInput;popupOpen=!1;multiSelection=!1;static config={defaultEntryTag:"h4",defaultSelectorTag:"h4"};constructor(t){super(t),t.selectedValues||(t.selectedValues=[]),t.multiSelection&&(this.multiSelection=t.multiSelection),t.underlyingInputName&&(this.underlyingInput=w({type:"hidden",name:t.underlyingInputName})),this.selector=this.createSelector(t),this.popup=this.createPopup(t),this.entries=t.values.map((e=>this.createDropdownEntry(e,t))),this.entries.forEach((e=>{t.selectedValues?.includes(e.value)&&this.select(e)})),document.addEventListener("click",(t=>{this.popupOpen&&!this.contains(t.target)&&this.openPopup(!1)}))}createSelector(t){let e;if(t.selector instanceof HTMLElement)e=t.selector;else{let n=t.customSelectorTag?t.customSelectorTag:ft.config.defaultSelectorTag;e=mt({buttonText:"string"==typeof t.selector?t.selector:"string"==typeof t.values[0]?t.values[0]:t.values[0].value,customTextTag:n})}let n=t.customSelectorClasses?t.customSelectorClasses:ft.config.defaultSelectorClasses;return e.addEventListener("click",(()=>this.openPopup(!this.popupOpen))),this.addChild(e),_(e,n),e}createPopup(t){let e=t.popup?t.popup:gt(),n=t.customPopupClasses?t.customPopupClasses:ft.config.defaultPopupClasses;return this.addChild(e),e.style.display="none",_(e,n),e}createDropdownEntry(t,e){return"string"==typeof t&&(t=pt({value:t})),t.addClass(e.customEntriesClasses?e.customEntriesClasses:ft.config.defaultEntriesClasses),t.selectedClass+=" "+(e.customSelectedEntriesClasses?e.customSelectedEntriesClasses:ft.config.defaultSelectedEntriesClasses),t.addEventListener("click",(()=>{this.select(t),this.openPopup(!1)})),this.popup.addChild(t),t}select(t){if("string"==typeof t){let e=this.entries.find((e=>e.value==t));if(!e)return this;t=e}return this.multiSelection||this.selectedEntries.forEach((t=>t.toggle())),t.toggle(),this.updateSelectorText(),this.dispatchEvent(new CustomEvent("change",{detail:{selectedValues:this.selectedValues}})),this}reset(){this.entries[0].click()}get entries(){return this._entries}set entries(t){this._entries=t}get selectedEntries(){return this.entries.filter((t=>t.selected))}get selectedValues(){return this.selectedEntries.map((t=>t.value))}get values(){return this.entries.map((t=>t.value))}set values(t){for(let e=0;e<Math.min(this.entries.length,t.length);e++)this.entries[e].value=t[e];this.updateSelectorText()}updateSelectorText(){let e=this.selectedValues.join(", ");this.underlyingInput&&(this.underlyingInput.value=e),this.selector instanceof t.TurboButton&&(this.selector.buttonText=e)}openPopup(t){this.popupOpen!=t&&(this.popupOpen=t,this.popup instanceof U?this.popup.show(t):this.popup.style.display=t?"":"none")}},t.TurboDropdown=ft=ot([W("turbo-dropdown")],t.TurboDropdown),t.TurboIconToggle=class extends t.TurboIcon{_toggled=!1;onToggle;constructor(t){super(t),this.toggled=t.toggled,this.onToggle=t.onToggle}get toggled(){return this._toggled}set toggled(t){this._toggled=t,this.onToggle&&this.onToggle(t,this)}toggle(){this.toggled=!this.toggled}},t.TurboIconToggle=ot([W("turbo-icon-toggle")],t.TurboIconToggle);const bt={900:{Black:"normal",BlackItalic:"italic"},800:{ExtraBold:"normal",ExtraBoldItalic:"italic"},700:{Bold:"normal",BoldItalic:"italic"},600:{SemiBold:"normal",SemiBoldItalic:"italic"},500:{Medium:"normal",MediumItalic:"italic"},400:{Regular:"normal",Italic:"italic"},300:{Light:"normal",LightItalic:"italic"},200:{ExtraLight:"normal",ExtraLightItalic:"italic"},100:{Thin:"normal",ThinItalic:"italic"}};function Tt(t,e,n,i,r){return vt`
        @font-face {
            font-family: "${t}";
            src: local("${t}"), url("${e}") format("${n}");
            font-weight: "${i}";
            font-style: "${r}";
        }`}return t.Delegate=z,t.EventManager=st,t.MathMLNamespace=l,t.MathMLTagsDefinitions=a,t.Point=Q,t.SvgCache=ct,t.SvgNamespace=r,t.SvgTagsDefinitions=s,t.Transition=class{transitionProperties=[];constructor(t){t.property||(t.property="all");for(let e=0;e<2;e++){let n=0===e?"In":"Out";this.transitionProperties.push({property:t.property,duration:t["duration"+n]?t["duration"+n]:t.duration?t.duration:0,delay:t["delay"+n]?t["delay"+n]:t.delay?t.delay:0,timingFunction:t["timingFunction"+n]?t["timingFunction"+n]:t.timingFunction?t.timingFunction:"linear"})}}transition(t,e,n=!1){let i=n?1:0,r=n?"Out":"In";(t instanceof U||t instanceof HTMLElement?[t]:t).forEach((t=>{t.style.transitionProperty=e.property?e.property:this.transitionProperties[i].property,t.style.transitionDuration=(e["duration"+r]?e["duration"+r]:e.duration?e.duration:this.transitionProperties[i].duration)+"s",t.style.transitionDelay=(e["delay"+r]?e["delay"+r]:e.delay?e.delay:this.transitionProperties[i].delay)+"s",t.style.transitionTimingFunction=e["timingFunction"+r]?e["timingFunction"+r]:e.timingFunction?e.timingFunction:this.transitionProperties[i].timingFunction}))}transitionIn(t,e){this.transition(t,e,!1)}transitionOut(t,e){this.transition(t,e,!0)}update(t){t.property&&(this.transitionProperties[0].property=t.property,this.transitionProperties[1].property=t.property),t.durationIn?this.transitionProperties[0].duration=t.durationIn:t.duration&&(this.transitionProperties[0].duration=t.duration),t.durationOut?this.transitionProperties[1].duration=t.durationOut:t.duration&&(this.transitionProperties[1].duration=t.duration),t.delayIn?this.transitionProperties[0].delay=t.delayIn:t.delay&&(this.transitionProperties[0].delay=t.delay),t.delayOut?this.transitionProperties[1].delay=t.delayOut:t.delay&&(this.transitionProperties[1].delay=t.delay),t.timingFunctionIn?this.transitionProperties[0].timingFunction=t.timingFunctionIn:t.timingFunction&&(this.transitionProperties[0].timingFunction=t.timingFunction),t.timingFunctionOut?this.transitionProperties[1].timingFunction=t.timingFunctionOut:t.timingFunction&&(this.transitionProperties[1].timingFunction=t.timingFunction)}},t.TurboDragEvent=rt,t.TurboElement=U,t.TurboEvent=et,t.TurboKeyEvent=nt,t.TurboMap=tt,t.TurboWheelEvent=it,t.a=d,t.addChild=I,t.addChildBefore=A,t.addClass=_,t.addListener=H,t.bestOverlayColor=function(t,e="#000000",n="#FFFFFF"){return Et(t,n)>Et(e,t)?n:e},t.blindElement=function(t={}){let e;return e=o(t.tag)?document.createElementNS(r,t.tag):c(t.tag)?document.createElementNS(l,t.tag):document.createElement(t.tag||"div"),t.shadowDOM&&e.attachShadow({mode:"open"}),i(e,t),e},t.button=mt,t.camelToKebabCase=R,t.canvas=m,t.childHandler=D,t.closest=B,t.closestRoot=e,t.contrast=Et,t.css=vt,t.define=W,t.div=p,t.dropdown=function(e){return new t.TurboDropdown(e)},t.dropdownEntry=pt,t.element=u,t.fetchSvg=at,t.flexCol=P,t.flexColCenter=function(t){let e=P(t);return e.style.justifyContent="center",e.style.alignItems="center",e},t.flexRow=F,t.flexRowCenter=function(t){let e=F(t);return e.style.justifyContent="center",e.style.alignItems="center",e},t.form=f,t.generateTagFunction=h,t.getFileExtension=ut,t.h1=g,t.h2=y,t.h3=E,t.h4=v,t.h5=b,t.h6=T,t.icon=function(e){return new t.TurboIcon(e)},t.iconToggle=function(e){return new t.TurboIconToggle(e)},t.img=M,t.input=w,t.isMathMLTag=c,t.isSvgTag=o,t.kebabToCamelCase=$,t.link=S,t.loadLocalFont=function(t){t.name&&t.pathOrDirectory||console.error("Please specify font name and path/directory");const e=0==ut(t.pathOrDirectory).length;t.stylesPerWeights||(t.stylesPerWeights=e?bt:{normal:"normal"}),t.format||(t.format="woff2"),t.extension||(t.extension=".ttf"),"."!=t.extension[0]&&(t.extension="."+t.extension),n(Object.entries(t.stylesPerWeights).map((([e,n])=>"string"==typeof n?Tt(t.name,t.pathOrDirectory,t.format,e,n):Object.entries(n).map((([n,i])=>Tt(t.name,`${t.pathOrDirectory}/${t.name}-${n}${t.extension}`,t.format,e,i))).join("\n"))).join("\n"))},t.luminance=yt,t.observe=K,t.p=C,t.popup=gt,t.removeAllChildren=G,t.removeChild=V,t.removeClass=O,t.setProperties=i,t.spacer=function(t){let e=u(t);return e.style.flexGrow="1",e},t.style=x,t.stylesheet=n,t.textToElement=lt,t.textarea=k,t.toggleClass=N,t.turbofy=function(){const t=HTMLElement.prototype.setAttribute,e=HTMLElement.prototype.removeAttribute,n=HTMLElement.prototype.blur,r=HTMLElement.prototype.focus,s=Element.prototype.remove;Element.prototype.setProperties=function(t,e=!1){return i(this,t,e),this},Element.prototype.addClass=function(t){return _(this,t),this},Element.prototype.removeClass=function(t){return O(this,t),this},Element.prototype.toggleClass=function(t,e){return N(this,t,e),this},Element.prototype.addChild=function(t){return I(this,t),this},Element.prototype.remChild=function(t){return V(this,t),this},Element.prototype.addChildBefore=function(t,e){return A(this,t,e),this},Element.prototype.removeAllChildren=function(){return G(this),this},Element.prototype.getClosest=function(t){return B(this,t)},Element.prototype.addListener=function(t,e,n){return H(this,t,e,n),this},HTMLElement.prototype.setStyle=function(t,e){return this.pendingStyles||(this.pendingStyles={}),this.pendingStyles[t]=e,this.applyStyles(),this},HTMLElement.prototype.setStyles=function(t){return this.pendingStyles||(this.pendingStyles={}),this.pendingStyles.cssText=t,this.applyStyles(),this},HTMLElement.prototype.applyStyles=function(){requestAnimationFrame((()=>{for(const t in this.pendingStyles)"cssText"==t?this.style.cssText+=";"+this.pendingStyles.cssText:this.style[t]=this.pendingStyles[t];this.pendingStyles={}}))},Element.prototype.execute=function(t){return t(this),this},Element.prototype.removeListener=function(t,e,n){return this.removeEventListener(t,e,n),this},Element.prototype.setAttribute=function(e,n){return t.call(this,e,n?.toString()||"true"),this},Element.prototype.removeAttribute=function(t){return e.call(this,t),this},HTMLElement.prototype.blur=function(){return n.call(this),this},HTMLElement.prototype.focus=function(){return r.call(this),this},Element.prototype.remove=function(){return s.call(this),this},HTMLElement.prototype.show=function(t){return this.setStyle("display",t?"":"none"),this}},t.video=L,t}({});
