"use strict";function t(t){return function(e,n,i){const s=i?.get,r=i?.set;if(!r&&!t?.callBefore)return i;const o=Symbol(`__${String(n)}__`),l=function(){if(s){const e=s.call(this);if(t?.returnDefinedGetterValue)return e}return this[o]},a=function(e){0!=t?.cancelIfUnchanged&&e==this[o]||(t?.callBefore&&(e=function(){return t.callBefore.call(this,e)}.call(this)),this[o]=e,r&&r.call(this,e))};return i?(!t?.returnDefinedGetterValue&&s||(i.get=l),i.set=a):Object.defineProperty(e,n,{get:l,set:a,enumerable:!0,configurable:!0}),i}}function e(t,e,n=Object.getOwnPropertyDescriptor(t,e)){const i=n?.value;if(!i)throw new Error(`No method ${e} found on target`);const s=Symbol(`__callOnce__${e}`);return n.value=function(...t){if(!this[s])return this[s]=!0,i.apply(this,t);console.warn(`Function ${e} has already been called once on this instance and will not be called again.`)},n}function n(t,e=Symbol(`__callOncePerInstance__${t.name}`)){return function(...n){if(!this[e])return this[e]=!0,t.apply(this,n)}}function i(t={}){return function(e,i,o=Object.getOwnPropertyDescriptor(e,i)){const l=o?.value||o?.get;if(!l)throw new Error(`No method ${i} found on target`);const a=!!o.get,c=Symbol(`__cache__${i}`),u=Symbol(`__cache__setup__${i}`),h=[],p=function(t=!0){s.call(this,a,c,h,t)},d=n((function(n){!function(t,e,n,i,s){if(n.onEvent){const e="function"==typeof i.addEventListener?i:document;(Array.isArray(n.onEvent)?n.onEvent:n.onEvent.split(" ")).forEach((n=>e.addEventListener(n,(()=>s.call(t)))))}if(n.onFieldChange){(Array.isArray(n.onFieldChange)?n.onFieldChange:[n.onFieldChange]).forEach((n=>{"string"==typeof n?n.split(" ").forEach((n=>r(t,n,e,s))):r(t,n.name,e,s)}))}if(n.onCallback){const e=setInterval((()=>{const e=n.onCallback.call(t);e instanceof Promise?e.then((e=>s.call(t,e))):s.call(t,e)}),n.onCallbackFrequency||50);"function"==typeof i.addEventListener&&i.addEventListener("destroy",(()=>clearInterval(e)))}}(n,i,t,e,p)}),u);a?o.get=function(){return this[c]||(d.call(this,this),this[c]=l.apply(this),t.timeout&&h.push(setTimeout((()=>p.call(this)),t.timeout)),t.clearOnNextFrame&&requestAnimationFrame((()=>p.call(this)))),this[c]}:o.value=function(...e){this[c]||(this[c]=new Map,d.call(this,this));const n=0==e.length?"__no_args__":JSON.stringify(e.map((t=>"function"==typeof t?`function:${t.name}`:"object"==typeof t&&null!=t?JSON.stringify(Object.entries(t).sort()):null==t?"undefined":t)));if(this[c].has(n))return this[c].get(n);{const i=l.apply(this,e);return this[c].set(n,i),t.timeout&&h.push(setTimeout((()=>this[c].delete(n)),t.timeout)),t.clearOnNextFrame&&requestAnimationFrame((()=>p.call(this))),i}}}}function s(t,e,n,i){i&&(t?delete this[e]:this[e]?.clear(),n.forEach((t=>clearTimeout(t))),n.splice(0,n.length))}function r(t,e,n,i){const s=t[e];if(null!=s)if(console.log(s),"function"==typeof s)t[e]=function(...e){return i.call(t),s.apply(t,e)};else{const n=Object.getOwnPropertyDescriptor(t,e);console.log(n),Object.defineProperty(t,e,{get:()=>n?.get?.call(t)||t[s],set(e){i.call(t),n?.set?n.set.call(t,e):t[s]=e},configurable:!0,enumerable:!0})}else console.warn(`No method ${n} found on target. It will be ignored.`)}function o(t){for(const e of Object.getOwnPropertySymbols(t))e.toString().startsWith("Symbol(__cache__)")&&delete t[e]}const l=t=>e=>customElements.define(t,e);function a(t){if(null==t)return"";switch(typeof t){case"string":return t;case"number":case"boolean":case"bigint":case"symbol":case"function":return t.toString();case"object":if(Array.isArray(t))return JSON.stringify(t);if(t instanceof Date)return t.toISOString();try{return JSON.stringify(t)}catch{return"[object Object]"}default:return String(t)}}function c(t){switch(t){case"":return;case"null":return null;case"true":return!0;case"false":return!1}if(!isNaN(Number(t)))return Number(t);if(/^\d+n$/.test(t))return BigInt(t.slice(0,-1));if(t.startsWith("function")||t.startsWith("("))try{const e=new Function(`return (${t})`)();if("function"==typeof e)return e}catch{}try{const e=JSON.parse(t);if("object"==typeof e&&null!=e)return e}catch{}return t}function u(t){if(!t||0==t.length)return"";const e=t.match(/\.\S{1,4}$/);return e?e[0]:""}function h(t){if(t&&0!=t.length)return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function p(t){if(t&&0!=t.length)return t.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))}function d(t,e){let n=t.constructor;n.observedAttributes||(n.observedAttributes=[]);const i=h(e),s=Symbol(`__observed__${e}`);n.observedAttributes.push(i);let r=function(t,e){for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}(n.prototype,e)||{enumerable:!0,configurable:!0};Object.defineProperty(n.prototype,e,{get:r.get||function(){return this[s]},set:function(t){this[e]!==t&&(r.set?r.set.call(this,t):this[s]=t,"function"==typeof this.setAttribute&&this.setAttribute(i,a(this[s])))},enumerable:r.enumerable,configurable:r.configurable})}const m="http://www.w3.org/2000/svg",f="http://www.w3.org/1998/Math/MathML",g={a:SVGAElement,animate:SVGAnimateElement,animateMotion:SVGAnimateMotionElement,animateTransform:SVGAnimateTransformElement,circle:SVGCircleElement,clipPath:SVGClipPathElement,defs:SVGDefsElement,desc:SVGDescElement,ellipse:SVGEllipseElement,feBlend:SVGFEBlendElement,feColorMatrix:SVGFEColorMatrixElement,feComponentTransfer:SVGFEComponentTransferElement,feComposite:SVGFECompositeElement,feConvolveMatrix:SVGFEConvolveMatrixElement,feDiffuseLighting:SVGFEDiffuseLightingElement,feDisplacementMap:SVGFEDisplacementMapElement,feDistantLight:SVGFEDistantLightElement,feDropShadow:SVGFEDropShadowElement,feFlood:SVGFEFloodElement,feFuncA:SVGFEFuncAElement,feFuncB:SVGFEFuncBElement,feFuncG:SVGFEFuncGElement,feFuncR:SVGFEFuncRElement,feGaussianBlur:SVGFEGaussianBlurElement,feImage:SVGFEImageElement,feMerge:SVGFEMergeElement,feMergeNode:SVGFEMergeNodeElement,feMorphology:SVGFEMorphologyElement,feOffset:SVGFEOffsetElement,fePointLight:SVGFEPointLightElement,feSpecularLighting:SVGFESpecularLightingElement,feSpotLight:SVGFESpotLightElement,feTile:SVGFETileElement,feTurbulence:SVGFETurbulenceElement,filter:SVGFilterElement,foreignObject:SVGForeignObjectElement,g:SVGGElement,image:SVGImageElement,line:SVGLineElement,linearGradient:SVGLinearGradientElement,marker:SVGMarkerElement,mask:SVGMaskElement,metadata:SVGMetadataElement,mpath:SVGMPathElement,path:SVGPathElement,pattern:SVGPatternElement,polygon:SVGPolygonElement,polyline:SVGPolylineElement,radialGradient:SVGRadialGradientElement,rect:SVGRectElement,script:SVGScriptElement,set:SVGSetElement,stop:SVGStopElement,style:SVGStyleElement,svg:SVGSVGElement,switch:SVGSwitchElement,symbol:SVGSymbolElement,text:SVGTextElement,textPath:SVGTextPathElement,title:SVGTitleElement,tspan:SVGTSpanElement,use:SVGUseElement,view:SVGViewElement},y={annotation:MathMLElement,"annotation-xml":MathMLElement,maction:MathMLElement,math:MathMLElement,merror:MathMLElement,mfrac:MathMLElement,mi:MathMLElement,mmultiscripts:MathMLElement,mn:MathMLElement,mo:MathMLElement,mover:MathMLElement,mpadded:MathMLElement,mphantom:MathMLElement,mprescripts:MathMLElement,mroot:MathMLElement,mrow:MathMLElement,ms:MathMLElement,mspace:MathMLElement,msqrt:MathMLElement,mstyle:MathMLElement,msub:MathMLElement,msubsup:MathMLElement,msup:MathMLElement,mtable:MathMLElement,mtd:MathMLElement,mtext:MathMLElement,mtr:MathMLElement,munder:MathMLElement,munderover:MathMLElement,semantics:MathMLElement};function b(t){return Object.keys(g).includes(t)||t?.startsWith("svg")}function x(t){return Object.keys(y).includes(t)||t?.startsWith("math")}function E(t={}){let e;return e=t.namespace?"svg"==t.namespace?document.createElementNS(m,t.tag||"svg"):"mathML"==t.namespace?document.createElementNS(f,t.tag||"math"):document.createElementNS(t.namespace,t.tag||"div"):document.createElement(t.tag||"div"),t.shadowDOM&&e.attachShadow({mode:"open"}),e.setProperties(t),e}function v(t={}){return E({...t,tag:"img"})}function S(t={}){return E({...t,tag:"input"})}function T(t={}){return E({...t,tag:"style"})}function M(t){const e=E(t);return e.setStyles({display:"flex",flexDirection:"column"},!0),e}function w(t){const e=E(t);return e.setStyles({display:"flex",flexDirection:"row"},!0),e}function P(t,e=document.head){if(!t)return;const n=T({innerHTML:t});e.addChild(n)}function C(t,e,n,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}var k,D,I,L,O;function A(t){return null==t&&null!=t}function F(t,...e){if(e.length<1)return!0;for(const n of e){let e=!1;for(const i of t)n==i&&(e=!0);if(!e)return!1}return!0}"function"==typeof SuppressedError&&SuppressedError,exports.TransitionMode=void 0,(k=exports.TransitionMode||(exports.TransitionMode={})).enabled="enabled",k.disabled="disabled",k.stylesOnly="stylesOnly",k.transitionOnly="transitionOnly",exports.Direction=void 0,(D=exports.Direction||(exports.Direction={})).vertical="vertical",D.horizontal="horizontal",exports.InOut=void 0,(I=exports.InOut||(exports.InOut={})).in="in",I.out="out",exports.AccessLevel=void 0,(L=exports.AccessLevel||(exports.AccessLevel={})).public="public",L.protected="protected",L.private="private",exports.Range=void 0,(O=exports.Range||(exports.Range={})).min="min",O.max="max";class N{inTransition;outTransition;attachedElements;beforeComputing;constructor(t={}){this.attachedElements=new Set,this.enabled=!0;for(const t of[exports.InOut.in,exports.InOut.out])this[`${t}Transition`]={properties:["all"],duration:0,delay:0,timingFunction:"linear"};this.update(t)}attach(...t){return t.forEach((t=>{this.findData(t)||(this.attachedElements.add({element:t,enabled:exports.TransitionMode.enabled}),t.transitions.attach(this))})),this}detach(...t){return t.forEach((t=>{const e=this.findData(t);e&&(this.attachedElements.delete(e),t.transitions.detach(this))})),this}initialize(t=exports.InOut.out,e,n=!1,i=!0,s,r=this.beforeComputing){return this.getEnabledEntriesData(e,n,i,r).forEach((e=>{e.lastState=t,this.resolveAndOverrideStyles(e,{[t]:s}),e.element.setStyles(e.resolvedStyles[t])})),this}apply(t=exports.InOut.out,e,n=!1,i=!0,s,r=this.beforeComputing){return this.getEnabledEntriesData(e,n,i,r).forEach((e=>{e.lastState=t,this.resolveAndOverrideStyles(e,{[t]:s}),e.element.transitions.reload()})),this}toggle(t,e=!1,n=!0,i,s=this.beforeComputing){return this.getEnabledEntriesData(t,e,n,s).forEach((t=>{t.lastState||(t.lastState=this.stateOf(t.element)||exports.InOut.out),t.lastState=t.lastState==exports.InOut.out?exports.InOut.in:exports.InOut.out,this.resolveAndOverrideStyles(t,i),t.element.transitions.reload()})),this}getEnabledEntriesData(t,e=!1,n=!0,i=this.beforeComputing){if(this.enabled==exports.TransitionMode.disabled)return console.warn("The transition you are trying to set on an element is disabled."),[];t?t instanceof HTMLCollection?t=Array.from(t):Array.isArray(t)||(t=[t]):t=[],0==t.length&&(e=!0),t.forEach((t=>this.attach(t))),e&&(t=[],this.attachedElements.forEach((e=>t.push(e.element))));const s=[];return t.forEach((t=>{if(t.transitions.enabled==exports.TransitionMode.disabled)return void console.warn("The transition handler of the element you are trying to animate is disabled.");const e=this.findData(t);e.enabled!=exports.TransitionMode.disabled?((n||null==e.elementIndex)&&(e.elementIndex=s.length),s.push(e)):console.warn("The transition you are trying to set on an element is disabled for this particular element.")})),s.forEach((t=>{(n||null==t.totalElementCount)&&(t.totalElementCount=s.length),i&&i(t.elementIndex,t.totalElementCount,t.element)})),s}reload(){return this.attachedElements.forEach((t=>t.element.transitions.reload())),this}reloadFor(t){if(this.enabled==exports.TransitionMode.disabled||t.transitions.enabled==exports.TransitionMode.disabled)return this;const e=this.findData(t);if(!e||e.enabled==exports.TransitionMode.disabled)return this;const n=e.lastState,i=F([exports.TransitionMode.enabled,exports.TransitionMode.transitionOnly],this.enabled,t.transitions.enabled,e.enabled)&&(0!=this.duration[n]||0!=this.delay[n]),s=F([exports.TransitionMode.enabled,exports.TransitionMode.stylesOnly],this.enabled,t.transitions.enabled,e.enabled);return i&&t.appendStyle("transition",this.getTransitionString(e),", ",!0),s&&t.setStyles(e.resolvedStyles[n],!0),this}set enabled(t){this.reload()}get properties(){return this.inTransition.properties}set properties(t){t&&(t="string"==typeof t?t.split(" "):t,this.inTransition.properties=t,this.outTransition.properties=t)}get duration(){return this.getTransitionField("duration")}set duration(t){this.setTransitionField(t,"duration")}get timingFunction(){return this.getTransitionField("timingFunction")}set timingFunction(t){this.setTransitionField(t,"timingFunction")}get delay(){return this.getTransitionField("delay")}set delay(t){this.setTransitionField(t,"delay")}get defaultStyles(){return this.getTransitionField("defaultStyles")}set defaultStyles(t){this.setTransitionField(t,"defaultStyles")}get inTransitionString(){return this.getTransitionString({...this.attachedElements[0],lastState:exports.InOut.in})}get outTransitionString(){return this.getTransitionString({...this.attachedElements[0],lastState:exports.InOut.out})}update(t={}){if(t){t.beforeComputing&&(this.beforeComputing=t.beforeComputing);for(const[e,n]of Object.entries(t))this[e]=n}}enableTransitionFor(t,e){const n=this.findData(t);e=N.parseMode(e),n&&n.enabled!=e&&(n.enabled=e,t.transitions.reload())}getTransitionField(t){return{[exports.InOut.in]:this.inTransition[t],[exports.InOut.out]:this.outTransition[t]}}setTransitionField(t,e){if(null==t)return;const n="object"==typeof t&&("in"in t||"out"in t);[exports.InOut.in,exports.InOut.out].forEach((i=>this[`${i}Transition`][e]=n?t[i]:t))}findData(t){for(const e of this.attachedElements)if(e.element==t)return e;return null}stateOf(t){if(!t)return;const e=this.findData(t);if(e){if(e.lastState)return e.lastState;e.resolvedStyles||this.resolveAndOverrideStyles(e);for(const t of[exports.InOut.in,exports.InOut.out]){if(!e.resolvedStyles[t])continue;let n=!0;for(const[i,s]of Object.entries(e.resolvedStyles[t]))if(e.element.style[i]!=s){n=!1;break}if(n)return e.lastState=t,t}}}clone(){return new N({properties:this.properties,duration:this.duration,timingFunction:this.timingFunction,delay:this.delay,defaultStyles:this.defaultStyles})}getTransitionString(t){const e=this[`${t.lastState}Transition`],n="function"==typeof e.duration?e.duration(t.elementIndex,t.totalElementCount,t.element):e.duration,i="function"==typeof e.delay?e.delay(t.elementIndex,t.totalElementCount,t.element):e.delay;let s="";return this.properties.forEach((t=>s+=`, ${t} ${n}s ${e.timingFunction} ${i}s`)),s.substring(2)}resolveAndOverrideStyles(t,e){if(A(e))return void(t.resolvedStyles={});const n=this.defaultStyles;e=e||{},t.resolvedStyles||(t.resolvedStyles={}),[exports.InOut.in,exports.InOut.out].forEach((i=>{if(A(e[i]))return void(t.resolvedStyles[i]={});const s=e[i]??n[i];switch(t.resolvedStyles[i]={},typeof s){case"number":return void this.properties.forEach((e=>t.resolvedStyles[i][e]=s));case"string":const e=s.split(";").map((t=>t.split(":").map((t=>t.trim()))));return void(1==e.length&&1==e[0].length?this.properties.forEach((n=>t.resolvedStyles[i][n]=e[0][0])):e.forEach((([e,n])=>{e&&n&&(t.resolvedStyles[i][e]=n)})));case"object":for(const[e,n]of Object.entries(s))e&&null!=n&&(t.resolvedStyles[i][e]="function"==typeof n?n(t.elementIndex,t.totalElementCount):n);return;case"function":const n=s(t.elementIndex,t.totalElementCount,t.element);return void("string"==typeof n||"number"==typeof n?this.properties.forEach((e=>t.resolvedStyles[i][e]=n)):t.resolvedStyles[i]=n)}}))}static parseMode(t){return 1==t?exports.TransitionMode.enabled:0==t?exports.TransitionMode.disabled:t}}function _(t={}){return new N(t)}C([t({callBefore:N.parseMode})],N.prototype,"enabled",null);class V{attachedElement;transitions;constructor(t){this.attachedElement=t,this.transitions=new Set,this.enabled=!0}attach(...t){return t.forEach((t=>{this.transitions.has(t)||(this.transitions.add(t),t.attach(this.attachedElement))})),this}detach(...t){return t.forEach((t=>{this.transitions.has(t)&&(this.transitions.delete(t),t.detach(this.attachedElement))})),this}initialize(t,e,n,i=!1){return t.initialize(e,this.attachedElement,!1,i,n),this}apply(t,e,n,i=!1){return t.apply(e,this.attachedElement,!1,i,n),this}toggle(t,e,n=!1){return t.toggle(this.attachedElement,!1,n,e),this}clear(){this.attachedElement.style.transition=""}reload(){this.clear(),this.transitions.forEach((t=>t.reloadFor(this.attachedElement)))}set enabled(t){t?this.reload():this.clear()}enableTransition(t,e){t.enableTransitionFor(this.attachedElement,e)}}C([t({callBefore:t=>N.parseMode(t)})],V.prototype,"enabled",null);class G extends HTMLElement{constructor(t={}){super(),t.shadowDOM&&this.attachShadow({mode:"open"}),this.setProperties(t,!0)}attributeChangedCallback(t,e,n){n&&n!=e&&(this[p(t)]=c(n))}static config={shadowDOM:!1};static configure(t){Object.entries(t).forEach((([t,e])=>{void 0!==e&&(this.config[t]=e)}))}}function z(){const t=Element.prototype.setAttribute,e=Element.prototype.removeAttribute,n=HTMLElement.prototype.blur,i=HTMLElement.prototype.focus;Node.prototype.execute=function(t){return t(this),this},Element.prototype.setAttribute=function(e,n){return t.call(this,e,n?.toString()||"true"),this},Element.prototype.removeAttribute=function(t){return e.call(this,t),this},HTMLElement.prototype.blur=function(){return n.call(this),this},HTMLElement.prototype.focus=function(){return i.call(this),this}}function j(){const t=Node.prototype.removeChild,e=Element.prototype.remove,n=Element.prototype.closest;Object.defineProperty(Node.prototype,"childHandler",{get:function(){return this instanceof Element&&this.shadowRoot?this.shadowRoot:this},configurable:!1,enumerable:!0}),Object.defineProperty(Node.prototype,"childNodesArray",{get:function(){return Array.from(this.childHandler.childNodes)},configurable:!1,enumerable:!0}),Object.defineProperty(Node.prototype,"childrenArray",{get:function(){return this.childNodesArray.filter((t=>1===t.nodeType))},configurable:!1,enumerable:!0}),Object.defineProperty(Node.prototype,"siblingNodes",{get:function(){return this.parentNode?.childNodesArray||[]},configurable:!1,enumerable:!0}),Object.defineProperty(Node.prototype,"siblings",{get:function(){return this.parentElement?.childrenArray},configurable:!1,enumerable:!0}),Node.prototype.remove=function(){return this.parentNode?.removeChild(this),this},Element.prototype.remove=function(){return e.call(this),this},Node.prototype.addChild=function(t,e,n=this.childrenArray){if(!this||!t)return this;if(void 0!==e&&(e<0||e>n.length)&&(e=void 0),null!=e)this.addChildBefore(t,n[e]);else try{Array.isArray(t)||(t=[t]),t.forEach((t=>{this.childHandler.appendChild(t),t.__outName&&!this[t.__outName]&&(this[t.__outName]=t)}))}catch(t){console.error(t)}return this},Node.prototype.removeChild=function(e){if(!this||!e)return this;try{Array.isArray(e)?e.forEach((e=>t.call(this.childHandler,e))):t.call(this.childHandler,e)}catch(t){console.error(t)}return this},Node.prototype.addChildBefore=function(t,e){if(!this||!t)return this;if(!e)return this.addChild(t);try{Array.isArray(t)?t.forEach((t=>this.childHandler.insertBefore(t,e))):this.childHandler.insertBefore(t,e)}catch(t){console.error(t)}return this},Node.prototype.removeChildAt=function(t,e=1,n=this.childrenArray){if(!this||void 0===t||t<0)return this;if(t>=n.length)return this;try{for(let i=t+e-1;i>=t;i--)i>=n.length||this.removeChild(n[i])}catch(t){console.error(t)}return this},Node.prototype.removeAllChildren=function(t=this.childrenArray){if(!this)return this;try{for(let e=0;e<t.length;e++)this.removeChild(t[e])}catch(t){console.error(t)}return this},Node.prototype.childAt=function(t,e=this.childrenArray){if(!this||void 0===t)return null;for(t>=e.length&&(t=e.length-1);t<0;)t+=e.length;return e[t]},Node.prototype.indexOfChild=function(t,e=this.childrenArray){return this&&t?(e instanceof Array||(e=Array.from(e)),e.indexOf(t)):-1},Node.prototype.hasChild=function(t){if(!this||!t)return!1;const e=Array.from(this.childNodes);if(t instanceof Node)return e.includes(t);for(const n of t)if(!e.includes(n))return!1;return!0},Element.prototype.closest=function(t){if(!this||!t)return null;if("string"==typeof t)return n.call(this,t);if("function"==typeof t){let e=this;for(;e&&!(e instanceof t);)e=e.parentElement;return e||null}return null},Node.prototype.findInParents=function(t){if(!t)return!1;t instanceof Node&&(t=[t]);let e=this,n=0;for(;e&&n<t.length;)t.includes(e)&&n++,e=e.parentNode;return n===t.length},Node.prototype.findInSubTree=function(t){if(!t)return!1;t instanceof Node&&(t=[t]);let e=0;const n=i=>{t.includes(i)&&e++,e>=t.length||i.childNodes.forEach((t=>n(t)))};return n(this),e>=t.length},Node.prototype.indexInParent=function(t=this.siblings){return t?t.indexOf(this):-1}}function R(){function t(t,e,n=(()=>{})){if(!t||!e)return t;try{"string"==typeof e&&(e=e.split(" ")),e.filter((t=>t.trim().length>0)).forEach((t=>n(t)))}catch(t){console.error(t)}return t}Element.prototype.addClass=function(e){return t(this,e,(t=>this.classList.add(t)))},Element.prototype.removeClass=function(e){return t(this,e,(t=>this.classList.remove(t)))},Element.prototype.toggleClass=function(e,n){return t(this,e,(t=>this.classList.toggle(t,n)))},Element.prototype.hasClass=function(t){if(!this||!t)return!1;if("string"==typeof t)return this.classList.contains(t);for(let e of t)if(!this.classList.contains(e))return!1;return!0}}function B(){Element.prototype.setProperties=function(t={},e=!1){return this?(t.out&&("string"==typeof t.out?this.__outName=t.out:Object.assign(t.out,this)),Object.keys(t).forEach((n=>{switch(n){case"tag":case"namespace":case"shadowDOM":return;case"text":if(!(this instanceof HTMLElement))return;return void(this.innerText=t.text);case"style":if(!(this instanceof HTMLElement||this instanceof SVGElement))return;return void(this.style.cssText+=t.style);case"stylesheet":return void P(t.stylesheet,this.closestRoot);case"id":return void(this.id=t.id);case"classes":return void this.addClass(t.classes);case"listeners":return void Object.keys(t.listeners).forEach((e=>this.addListener(e,t.listeners[e],this)));case"children":return void this.addChild(t.children);case"parent":if(!t.parent)return;return void t.parent.addChild(this);default:if(e)return;try{this[n]=t[n]}catch(t){console.error(t)}return}})),this):this},Node.prototype.destroy=function(){return this.removeAllListeners(),this.remove(),this}}function $(){Object.defineProperty(Node.prototype,"boundListeners",{value:new Set,writable:!1,configurable:!0,enumerable:!0}),Node.prototype.addListener=function(t,e,n=this,i){const s=t=>{"object"==typeof e&&e.handleEvent&&e.handleEvent(t),"function"==typeof e&&e(t,this)};return n.boundListeners.add({target:this,type:t,originalListener:e,listener:s,options:i}),this.addEventListener(t,s,i),this},Node.prototype.removeListener=function(t,e,n){for(let i of this.boundListeners)if(i.type===t&&i.originalListener===e&&i.options===n){i.target.removeEventListener(t,i.listener,n),this.boundListeners.delete(i);break}return this},Node.prototype.removeListenersByType=function(t){for(let e of this.boundListeners)e.type===t&&(this.removeEventListener(t,e.listener,e.options),this.boundListeners.delete(e));return this},Node.prototype.removeAllListeners=function(){for(let t of this.boundListeners)this.removeEventListener(t.type,t.listener,t.options),this.boundListeners.delete(t);return this}}function W(){const t=new N({properties:"visibility",defaultStyles:{in:"visible",out:"hidden"}});Object.defineProperty(Node.prototype,"closestRoot",{get:function(){let t=this;for(;t;){if(t instanceof Element&&t.shadowRoot)return t.shadowRoot;t=t.parentElement}return document.head},configurable:!1,enumerable:!0}),Object.defineProperty(HTMLElement.prototype,"transitions",{get:function(){return this._transitions||(this._transitions=new V(this)),this._transitions},configurable:!1,enumerable:!0}),Object.defineProperty(HTMLElement.prototype,"showTransition",{value:t,writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(HTMLElement.prototype,"isShown",{get:function(){const t=this.showTransition.stateOf(this);return t==exports.InOut.in||t!=exports.InOut.out&&("none"!=this.style.display&&"hidden"!=this.style.visibility&&"0"!=this.style.opacity)},configurable:!1,enumerable:!0}),HTMLElement.prototype.setStyle=function(t,e,n=!1){return t&&null!=e?(this.pendingStyles||(this.pendingStyles={}),n?this.style[t]=e.toString():this.pendingStyles[t]=e.toString(),n||this.applyStyles(),this):this},HTMLElement.prototype.appendStyle=function(t,e,n=", ",i=!1){if(!t||null==e)return this;this.pendingStyles||(this.pendingStyles={});const s=this.style[t]||"";return n=s.length>0?n:"",i?this.style[t]=s+n+e:this.pendingStyles[t]=s+n+e,i||this.applyStyles(),this},HTMLElement.prototype.setStyles=function(t,e=!1){if(!t||"number"==typeof t)return this;if(this.pendingStyles||(this.pendingStyles={}),"string"==typeof t)t.split(";").forEach((t=>{const[n,i]=t.split(":").map((t=>t.trim()));n&&i&&(e?this.style[n]=i:this.pendingStyles[n]=i)}));else for(const[n,i]of Object.entries(t))e?this.style[n]=i.toString():this.pendingStyles[n]=i.toString();return e||this.applyStyles(),this},HTMLElement.prototype.applyStyles=function(){requestAnimationFrame((()=>{for(const t in this.pendingStyles)"cssText"==t?this.style.cssText+=";"+this.pendingStyles.cssText:this.style[t]=this.pendingStyles[t];this.pendingStyles={}}))},HTMLElement.prototype.show=function(t){return this.showTransition.apply(t?exports.InOut.in:exports.InOut.out,this),this}}class H{callbacks=new Set;add(t){this.callbacks.add(t)}remove(t){return this.callbacks.delete(t)}fire(...t){for(const e of this.callbacks)try{e(...t)}catch(t){console.error("Error invoking callback:",t)}}clear(){this.callbacks.clear()}}const K={keyPressed:"turbo-key-pressed",keyReleased:"turbo-key-released"},U={click:"turbo-click",clickStart:"turbo-click-start",clickEnd:"turbo-click-end",longPress:"turbo-long-press"},q={move:"turbo-move"},X={drag:"turbo-drag",dragStart:"turbo-drag-start",dragEnd:"turbo-drag-end"},Y={trackpadScroll:"turbo-trackpad-scroll",trackpadPinch:"turbo-trackpad-pinch",mouseWheel:"turbo-mouse-wheel"},J={...U,...K,...q,...X,...Y,selectInput:"turbo-select-input"},Z={keyPressed:"keydown",keyReleased:"keyup",click:"click",clickStart:"mousedown",clickEnd:"mouseup",longPress:J.longPress,move:"mousemove",drag:J.drag,dragStart:J.dragStart,dragEnd:J.dragEnd,wheel:"wheel",trackpadScroll:"wheel",trackpadPinch:"wheel",mouseWheel:"wheel",scroll:"scroll",input:"input",change:"change",focus:"focus",blur:"blur"};var Q,tt,et,nt,it;exports.ClosestOrigin=void 0,(Q=exports.ClosestOrigin||(exports.ClosestOrigin={})).target="target",Q.position="position";class st extends Event{clickMode;keys;position;constructor(t,e,n,i,s){super(i,{bubbles:!0,cancelable:!0,...s}),this.clickMode=e,this.keys=n,this.position=t}closest(t,e=!0,n=exports.ClosestOrigin.target){const i=n==exports.ClosestOrigin.target?[this.target]:document.elementsFromPoint(this.position.x,this.position.y);for(let n of i){for(;n&&(!(n instanceof t)||e&&!this.isPositionInsideElement(this.position,n));)n=n.parentElement;if(n)return n}return null}isPositionInsideElement(t,e){const n=e.getBoundingClientRect();return t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom}get target(){return super.target||document}get scaledPosition(){return this.authorizeScaling()?this.scalePosition(this.position):this.position}scalePosition(t){return t}authorizeScaling(){return!0}scalePositionsMap(t){return t.mapValues(((t,e)=>this.scalePosition(e)))}}C([i()],st.prototype,"closest",null),C([i()],st.prototype,"scaledPosition",null);class rt{x;y;constructor(t=0,e=("number"==typeof t?t:0)){"number"==typeof t?(this.x=t,this.y=e):"clientX"in t?(this.x=t.clientX,this.y=t.clientY):"x"in t?(this.x=t.x,this.y=t.y):(this.x=t[0],this.y=t[1])}static dist(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}static midPoint(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>t+e.x),0)/t.length,n=t.reduce(((t,e)=>t+e.y),0)/t.length;return new rt(e,n)}static max(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>Math.max(t,e.x)),-1/0),n=t.reduce(((t,e)=>Math.max(t,e.y)),-1/0);return new rt(e,n)}static min(...t){if(0==t.length)return null;const e=t.reduce(((t,e)=>Math.min(t,e.x)),1/0),n=t.reduce(((t,e)=>Math.min(t,e.y)),1/0);return new rt(e,n)}equals(t,e=0){return"number"==typeof t?this.x==t&&this.y==e:this.x==t.x&&this.y==t.y}boundX(t,e){return this.x<t?t:this.x>e?e:this.x}boundY(t,e){return this.y<t?t:this.y>e?e:this.y}bound(t,e,n=t,i=e){return new rt(this.boundX(t,e),this.boundY(n,i))}add(t,e){return"number"==typeof t?new rt(this.x+t,this.y+(e||0==e?e:t)):new rt(this.x+t.x,this.y+t.y)}sub(t,e){return"number"==typeof t?new rt(this.x-t,this.y-(e||0==e?e:t)):new rt(this.x-t.x,this.y-t.y)}mul(t,e){return"number"==typeof t?new rt(this.x*t,this.y*(e||0==e?e:t)):new rt(this.x*t.x,this.y*t.y)}div(t,e){return"number"==typeof t?new rt(this.x/t,this.y/(e||0==e?e:t)):new rt(this.x/t.x,this.y/t.y)}abs(){return new rt(Math.abs(this.x),Math.abs(this.y))}max(){return Math.max(this.x,this.y)}min(){return Math.min(this.x,this.y)}copy(){return new rt(this.x,this.y)}arr(){return[this.x,this.y]}}class ot extends st{origins;previousPositions;positions;constructor(t,e,n,i,s,r=J.drag,o){super(n.first,i,s,r,{bubbles:!0,cancelable:!0,...o}),this.origins=t,this.previousPositions=e,this.positions=n}get scaledOrigins(){return this.authorizeScaling()?this.scalePositionsMap(this.origins):this.origins}get scaledPreviousPositions(){return this.authorizeScaling()?this.scalePositionsMap(this.previousPositions):this.previousPositions}get scaledPositions(){return this.authorizeScaling()?this.scalePositionsMap(this.positions):this.positions}get deltaPositions(){return this.positions.mapValues(((t,e)=>{const n=this.previousPositions.get(t);if(n)return e.sub(n)}))}get deltaPosition(){return rt.midPoint(...this.deltaPositions.valuesArray())}get scaledDeltaPositions(){return this.scaledPositions.mapValues(((t,e)=>{const n=this.scaledPreviousPositions.get(t);if(n)return e.sub(n)}))}get scaledDeltaPosition(){return rt.midPoint(...this.scaledDeltaPositions.valuesArray())}}C([i()],ot.prototype,"scaledOrigins",null),C([i()],ot.prototype,"scaledPreviousPositions",null),C([i()],ot.prototype,"scaledPositions",null),C([i()],ot.prototype,"deltaPositions",null),C([i()],ot.prototype,"deltaPosition",null),C([i()],ot.prototype,"scaledDeltaPositions",null),C([i()],ot.prototype,"scaledDeltaPosition",null);class lt extends st{keyPressed;keyReleased;constructor(t,e,n,i,s=J.keyPressed,r){super(null,n,i,s,{bubbles:!0,cancelable:!0,...r}),this.keyPressed=t,this.keyReleased=e}}exports.ActionMode=void 0,(tt=exports.ActionMode||(exports.ActionMode={}))[tt.none=0]="none",tt[tt.click=1]="click",tt[tt.longPress=2]="longPress",tt[tt.drag=3]="drag",exports.ClickMode=void 0,(et=exports.ClickMode||(exports.ClickMode={}))[et.none=0]="none",et[et.left=1]="left",et[et.right=2]="right",et[et.middle=3]="middle",et[et.other=4]="other",et[et.key=5]="key",exports.InputDevice=void 0,(nt=exports.InputDevice||(exports.InputDevice={}))[nt.unknown=0]="unknown",nt[nt.mouse=1]="mouse",nt[nt.trackpad=2]="trackpad",nt[nt.touch=3]="touch";class at extends st{delta;constructor(t,e,n,i){super(null,exports.ClickMode.none,e,n,{bubbles:!0,cancelable:!0,...i}),this.delta=t}}function ct(t){HTMLElement.prototype.bypassTurboEventManagerOn=t=>!0;const n=function(e){const n=this.bypassTurboEventManagerOn(e);"boolean"==typeof n?t.setLockState(this,{enabled:n,preventDefaultWheel:n,preventDefaultMouse:n,preventDefaultTouch:n}):t.setLockState(this,{enabled:n.enabled||!1,preventDefaultWheel:n.preventDefaultWheel||!1,preventDefaultMouse:n.preventDefaultMouse||!1,preventDefaultTouch:n.preventDefaultTouch||!1})};HTMLElement.prototype.bypassTurboEventManager=function(){return this.addListener("mousedown",(t=>n.call(this,t))),this.addListener("touchstart",(t=>n.call(this,t))),this},e(HTMLElement.prototype,"bypassTurboEventManager")}class ut extends Map{enforceImmutability=!0;set(t,e){return super.set(t,this.enforceImmutability?this.copy(e):e)}get(t){const e=super.get(t);return this.enforceImmutability?this.copy(e):e}get first(){if(0==this.size)return null;const t=this.values().next().value;return this.enforceImmutability?this.copy(t):t}get last(){if(0==this.size)return null;const t=this.valuesArray()[this.size-1];return this.enforceImmutability?this.copy(t):t}keysArray(){return Array.from(this.keys())}valuesArray(){return Array.from(this.values())}copy(t){if(t&&"object"==typeof t){if(t instanceof Array)return t.map((t=>this.copy(t)));if(t.constructor&&t.constructor!=Object){if("function"==typeof t.clone)return t.clone();if("function"==typeof t.copy)return t.copy()}return{...t}}return t}mapKeys(t){const e=new ut;for(let[n,i]of this)e.set(t(n,i),i);return e}mapValues(t){const e=new ut;for(let[n,i]of this)e.set(n,t(n,i));return e}filter(t){const e=new ut;for(let[n,i]of this)t(n,i)&&e.set(n,i);return e}merge(t){for(let[e,n]of t)this.set(e,n);return this}}function ht(t){let e=document.createElement("div");return e.innerHTML=t,e.children[0]}function pt(t){return new Promise(((e,n)=>{t&&0!==t.length?fetch(t).then((t=>{if(!t.ok)throw new Error("Network response was not ok while loading your SVG");return t.text()})).then((t=>{const n=ht(t);if(!n)throw new Error("Error parsing SVG text");e(n)})).catch((t=>{console.error("Error fetching SVG:",t),n(t)})):n(new Error("Invalid path"))}))}function dt(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}exports.TurboIcon=class extends G{static{it=this}_element=null;_type;_directory;_icon;_iconColor=null;_onLoaded=null;static config={defaultType:"svg",defaultDirectory:""};constructor(t){super(t),this.update(t)}update(t){t.unsetDefaultClasses?this.removeClass(it.config.defaultClasses):this.addClass(it.config.defaultClasses),this.type=t.type,this.directory=t.directory,t.iconColor&&(this.iconColor=t.iconColor),t.onLoaded&&(this._onLoaded=t.onLoaded),this.icon=t.icon}fetchSvg(t){return pt(t)}generateSvg(){this.clear(),this.fetchSvg(this.path).then((t=>{this.element||(this.element=t,this.addChild(this.element),this.element&&(this.iconColor&&(this.element.style.fill=this.iconColor),this._onLoaded&&this._onLoaded(this.element)))}))}generateImg(){if(this.element instanceof HTMLImageElement)return this.element.src=this.path,void(this.element.alt=this.icon);this.clear(),this.element=v({src:this.path,alt:this.icon,parent:this})}clear(){this.removeAllChildren(),this.element=null}get type(){return this._type}set type(t){t&&0!=t.length||(t=this.type||it.config.defaultType||"svg"),this._type=t}get directory(){return this._directory}set directory(t){t||(t=this.directory||it.config.defaultDirectory||""),t.length>0&&!t.endsWith("/")&&(t+="/"),this._directory=t}get path(){let t=this.icon.endsWith("."+this.type)||0==this.type.length?"":"."+this.type;return this.directory+this.icon+t}get icon(){return this._icon}set icon(t){this.type=u(t).substring(1),this._icon=t,"svg"==this.type?this.generateSvg():this.generateImg()}get iconColor(){return this._iconColor}set iconColor(t){this._iconColor=t,this.element instanceof SVGElement&&t&&(this.element.style.fill=t)}set element(t){this._element=t}get element(){return this._element}},C([i()],exports.TurboIcon.prototype,"fetchSvg",null),C([d],exports.TurboIcon.prototype,"icon",null),C([d],exports.TurboIcon.prototype,"iconColor",null),exports.TurboIcon=it=C([l("turbo-icon")],exports.TurboIcon);var mt,ft,gt,yt,bt;function xt(t){return new exports.TurboButton(t)}function Et(t={}){return new exports.TurboPopup(t)}function vt(t){return new exports.TurboSelectEntry(t)}dt("turbo-button{align-items:center;background-color:#dadada;border:1px solid #000;border-radius:.4em;color:#000;display:inline-flex;flex-direction:row;gap:.4em;padding:.5em .7em;text-decoration:none}turbo-button>h4{flex-grow:1}"),exports.TurboButton=class extends G{static{mt=this}elements;_buttonTextTag;static config={defaultTextTag:"h4"};constructor(t){super(t),this.elements={leftCustomElements:null,leftIcon:null,buttonText:null,rightIcon:null,rightCustomElements:null},this.buttonTextTag=t.customTextTag,t.unsetDefaultClasses||this.addClass(mt.config.defaultClasses),t.leftCustomElements&&(this.leftCustomElements=t.leftCustomElements),t.leftIcon&&(this.leftIcon=t.leftIcon),t.buttonText&&(this.buttonText=t.buttonText),t.rightIcon&&(this.rightIcon=t.rightIcon),t.rightCustomElements&&(this.rightCustomElements=t.rightCustomElements)}addAtPosition(t,e){if(!t)return;let n=0;for(let t in this.elements){if(t==e)break;this.elements[t]&&n++}this.addChild(t,n)}removeElement(t){t&&(Array.isArray(t)?t.forEach((t=>this.removeChild(t))):this.removeChild(t))}get buttonTextTag(){return this._buttonTextTag}set buttonTextTag(t){t||(t=mt.config.defaultTextTag||"h4"),this._buttonTextTag=t}get leftCustomElements(){return this.elements.leftCustomElements}set leftCustomElements(t){this.addAtPosition(t,"leftCustomElements"),this.removeElement(this.leftCustomElements),this.elements.leftCustomElements=t}get leftIcon(){return this.elements.leftIcon}set leftIcon(t){"string"==typeof t&&(t=new exports.TurboIcon({icon:t})),this.addAtPosition(t,"leftIcon"),this.removeElement(this.leftIcon),this.elements.leftIcon=t}get buttonText(){return this.elements.buttonText}set buttonText(t){if("string"==typeof t){if(this.buttonText&&"innerText"in this.buttonText)return void(this.buttonText.innerText=t);t=E({tag:this.buttonTextTag,text:t})}this.addAtPosition(t,"buttonText"),this.removeElement(this.buttonText),this.elements.buttonText=t}get rightIcon(){return this.elements.rightIcon}set rightIcon(t){"string"==typeof t&&(t=new exports.TurboIcon({icon:t})),this.addAtPosition(t,"rightIcon"),this.removeElement(this.rightIcon),this.elements.rightIcon=t}get rightCustomElements(){return this.elements.rightCustomElements}set rightCustomElements(t){this.addAtPosition(t,"rightCustomElements"),this.removeElement(this.rightCustomElements),this.elements.rightCustomElements=t}},exports.TurboButton=mt=C([l("turbo-button")],exports.TurboButton),exports.TurboIconToggle=class extends exports.TurboIcon{_toggled=!1;onToggle;constructor(t){super(t),this.toggled=t.toggled,this.onToggle=t.onToggle}get toggled(){return this._toggled}set toggled(t){this._toggled=t,this.onToggle&&this.onToggle(t,this)}toggle(){this.toggled=!this.toggled}},exports.TurboIconToggle=C([l("turbo-icon-toggle")],exports.TurboIconToggle),exports.TurboInput=class extends G{inputElement;labelElement;prefixElement;suffixElement;locked;constructor(t={}){super(t),this.locked=t.locked||!1,t.label&&(this.labelElement=E({tag:"label",text:t.label,parent:this}));const e=E({parent:this});t.prefix&&(this.prefixElement=E({tag:"span",text:t.prefix,parent:e})),this.inputElement=E({...t.inputProperties,tag:t.inputTag,parent:e}),t.suffix&&(this.suffixElement=E({tag:"span",text:t.suffix,parent:e})),this.setupEvents(t)}setupEvents(t){"bypassTurboEventManager"in this.inputElement&&this.inputElement.bypassTurboEventManager(),t.onClick&&this.inputElement.addEventListener(Z.click,(e=>t.onClick(e))),t.onBlur&&this.inputElement.addEventListener(Z.blur,(e=>t.onBlur(e))),this.inputElement.addEventListener(Z.focus,(()=>{this.locked&&this.inputElement.blur(),t.selectTextOnFocus&&this.inputElement.select()})),this.inputElement.addEventListener(Z.input,(e=>{if(t.dynamicVerticalResize&&(this.inputElement.style.height="",this.inputElement.style.height=this.inputElement.scrollHeight+"px"),t.regexCheck){const e=t.regexCheck instanceof RegExp?t.regexCheck:new RegExp(t.regexCheck,"g");this.value=this.value.toString().replace(e,"")}else this.value=this.value;t.onInput&&t.onInput(e)}))}get value(){return this.inputElement.value}set value(t){this.inputElement.value=t.toString()}},exports.TurboInput=C([l("turbo-input")],exports.TurboInput),exports.TurboNumericalInput=class extends exports.TurboInput{multiplier;decimalPlaces;min;max;constructor(t={}){t.regexCheck=/^(?!-0?(\.0+)?$)-?(0|[1-9]\d*)?(\.\d+)?(?<=\d)$/,super(t),this.multiplier=t.multiplier||1,this.decimalPlaces=t.decimalPlaces,this.min=t.min,this.max=t.max}get value(){return Number.parseFloat(this.inputElement.value)/this.multiplier}set value(t){t&&""!=t||(t=0),"string"==typeof t&&(t=Number.parseFloat(t)),t*=this.multiplier,null!=this.min&&t<this.min&&(t=this.min),null!=this.max&&t>this.max&&(t=this.max),null!=this.decimalPlaces&&(t=Math.round(t*Math.pow(10,this.decimalPlaces))/Math.pow(10,this.decimalPlaces)),this.inputElement.value=t.toString()}},exports.TurboNumericalInput=C([l("turbo-numerical-input")],exports.TurboNumericalInput),exports.PopupFallbackMode=void 0,(ft=exports.PopupFallbackMode||(exports.PopupFallbackMode={})).invert="invert",ft.offset="offset",ft.none="none",exports.TurboPopup=class extends G{static{gt=this}_popupAnchor;_parentAnchor;_viewportMargin;_offsetFromParent;fallbackModes;static config={defaultPopupAnchor:{x:0,y:-100},defaultParentAnchor:{x:0,y:100},defaultViewportMargin:4,defaultOffsetFromParent:{x:0,y:4}};constructor(t={}){super(t),this.setStyle("position","fixed"),t.unsetDefaultClasses||this.addClass(gt.config.defaultClasses),this.popupAnchor=t.popupAnchor||gt.config.defaultPopupAnchor||{x:50,y:0},this.parentAnchor=t.parentAnchor||gt.config.defaultParentAnchor||{x:50,y:100},this.viewportMargin=t.viewportMargin||gt.config.defaultViewportMargin||0,this.offsetFromParent=t.offsetFromParent||gt.config.defaultOffsetFromParent||0,this.fallbackModes=t.fallbackModes||{x:Math.abs(this.parentAnchor.x-50)>25?exports.PopupFallbackMode.invert:exports.PopupFallbackMode.offset,y:Math.abs(this.parentAnchor.y-50)>25?exports.PopupFallbackMode.invert:exports.PopupFallbackMode.offset},this.addListeners(),this.show(!1)}addListeners(){document.addEventListener(Z.scroll,(()=>this.show(!1))),document.addEventListener(Z.click,(t=>{this.isShown&&!this.contains(t.target)&&this.show(!1)}))}get popupAnchor(){return this._popupAnchor}set popupAnchor(t){this._popupAnchor=new rt(t).bound(0,100)}get parentAnchor(){return this._parentAnchor}set parentAnchor(t){this._parentAnchor=new rt(t).bound(0,100)}get viewportMargin(){return this._viewportMargin}set viewportMargin(t){this._viewportMargin=new rt(t)}get offsetFromParent(){return this._offsetFromParent}set offsetFromParent(t){this._offsetFromParent=new rt(t)}get rect(){return this.getBoundingClientRect()}get parentRect(){return this.parentElement.getBoundingClientRect()}get computedStyle(){return window.getComputedStyle(this)}get parentComputedStyle(){return window.getComputedStyle(this.parentElement)}recomputePosition(){if(!this.parentElement)return;const t=this.recomputeSide(exports.Direction.vertical),e=this.recomputeSide(exports.Direction.horizontal);this.recomputeMaxSize(t,exports.Direction.vertical),this.recomputeMaxSize(e,exports.Direction.horizontal)}recomputeSide(t){const e=this.generateDimensionParameters(t),n=this.rect[e.size]+this.offsetFromParent[e.coordinate]+parseFloat(this.computedStyle[e.marginStart])+parseFloat(this.computedStyle[e.marginEnd]),i=this.parentRect[e.size]*this.parentAnchor[e.coordinate]/100,s=n*this.popupAnchor[e.coordinate]/100,r=i-s,o=r>0?1:-1,l=this.offsetFromParent[e.coordinate]*o,a=this.viewportMargin[e.coordinate]*o,c=r+a;let u=this.parentRect[e.side]+r+l;if(this.fallbackModes[e.coordinate]==exports.PopupFallbackMode.invert){const t=this.parentRect[e.size]-i+(n-s),l=t-a;(r>=0&&window[e.innerSize]-this.parentRect[e.side]<n+c&&this.parentRect[e.side]>=n-l||r<0&&this.parentRect[e.side]<-r-c&&window[e.innerSize]-this.parentRect[e.side]>=t+l)&&(u=this.parentRect[e.side]-t*o)}else if(this.fallbackModes[e.coordinate]==exports.PopupFallbackMode.offset)if(r<0){const t=this.parentRect[e.side]+c;t<0&&(u-=t)}else{const t=window[e.innerSize]-this.parentRect[e.side]-(n+c);t>0&&(u-=t)}return this.style[e.side]=u+"px",u}recomputeMaxSize(t,e){const n=this.generateDimensionParameters(e),i=window[n.innerSize]-t-this.viewportMargin[n.coordinate]-parseFloat(this.computedStyle[n.marginStart])-parseFloat(this.computedStyle[n.marginEnd])-parseFloat(this.parentComputedStyle[n.marginStart])-parseFloat(this.parentComputedStyle[n.marginEnd]);this.computedStyle[n.maxSize]&&parseFloat(this.computedStyle[n.maxSize])<=i||(this.style[n.maxSize]=i+"px")}clearMaxDimensions(){this.style.maxHeight="",this.style.maxWidth=""}show(t){return this.isShown==t||requestAnimationFrame((()=>{t?this.recomputePosition():this.clearMaxDimensions(),super.show(t)})),this}toggle(){return this.show(!this.isShown)}generateDimensionParameters(t){const e=t==exports.Direction.vertical;return{size:e?"height":"width",innerSize:e?"innerHeight":"innerWidth",maxSize:e?"maxHeight":"maxWidth",marginStart:e?"marginTop":"marginLeft",marginEnd:e?"marginBottom":"marginRight",side:e?"top":"left",coordinate:e?"y":"x"}}},C([i({clearOnNextFrame:!0})],exports.TurboPopup.prototype,"rect",null),C([i({clearOnNextFrame:!0})],exports.TurboPopup.prototype,"parentRect",null),C([i({clearOnNextFrame:!0})],exports.TurboPopup.prototype,"computedStyle",null),C([i({clearOnNextFrame:!0})],exports.TurboPopup.prototype,"parentComputedStyle",null),exports.TurboPopup=gt=C([l("turbo-popup")],exports.TurboPopup),exports.TurboSelectEntry=yt=class extends G{_value;_selected;_enabled;selectedClasses="";onSelected;onEnabled;reflectedElement;inputElement;config={};constructor(t){super(t),t.unsetDefaultClasses||this.addClass(yt.config.defaultClasses),this.selectedClasses=t.selectedClasses,this.onSelected=t.onSelected||(()=>{}),this.onEnabled=t.onEnabled||(()=>{}),this.reflectedElement=null!=t.reflectValueOn?t.reflectValueOn:this,this.inputName=t.inputName,this.value=t.value,this.selected=t.selected||!1,this.enabled=t.enabled||!0}toggle(){this.selected=!this.selected}get value(){return this._value}set value(t){this._value=t,this.reflectedElement&&(this.reflectedElement.innerText=this.stringValue),this.inputElement&&(this.inputElement.value=this.stringValue)}get stringValue(){return a(this.value)}get selected(){return this._selected}set selected(t){t!=this.selected&&(this._selected=t,this.toggleClass(this.selectedClasses,t),this.onSelected(t))}set enabled(t){!t&&this.selected&&(this.selected=!1),this.transitions.enabled=t,this.setStyle("visibility",t?"":"hidden"),this.onEnabled(t)}get inputName(){return this.inputElement?.name||null}set inputName(t){t&&(this.inputElement?this.inputElement.name=t:this.inputElement=S({type:"hidden",name:t,parent:this,value:this.stringValue}))}},C([t()],exports.TurboSelectEntry.prototype,"enabled",null),exports.TurboSelectEntry=yt=C([l("turbo-select-entry")],exports.TurboSelectEntry);class St extends st{toggledEntry;values;constructor(t,e,n=exports.ClickMode.left,i){super(null,n,null,J.selectInput,i),this.toggledEntry=t,this.values=e}}function Tt(t,e,n=0){return t<n&&(t=n),t>e&&(t=e),t}exports.TurboSelect=class extends G{static{bt=this}entries=[];entriesParent;enabled;inputName;multiSelection=!1;forceSelection=!1;selectedEntryClasses;static config={};constructor(t){super(t),t.unsetDefaultClasses||this.addClass(bt.config.defaultClasses),t.selectedValues||(t.selectedValues=[]),this.entriesParent=t.entriesParent??this,this.multiSelection=t.multiSelection??!1,this.forceSelection=t.forceSelection??!this.multiSelection,this.inputName=t.inputName,this.selectedEntryClasses=t.customSelectedEntryClasses||bt.config.defaultSelectedEntryClasses,(t.values??[]).forEach((e=>{e=this.addEntry(e),t.selectedValues?.includes(e.value)&&this.select(e)}))}addEntry(t){return t instanceof exports.TurboSelectEntry||("object"==typeof t&&"value"in t?(t.inputName||(t.inputName=this.inputName),t=vt(t)):t=vt({value:t,inputName:this.inputName})),t.selectedClasses||(t.selectedClasses=this.selectedEntryClasses),t.addEventListener(Z.click,(e=>this.onEntryClick(t,e))),this.entriesParent.addChild(t),this.entries.push(t),t}onEntryClick(t,e){this.select(t)}select(t){if(!(t instanceof exports.TurboSelectEntry)){let e=this.enabledEntries.find((e=>e.value==t));if(!e)return this;t=e}return this.multiSelection||this.selectedEntries.forEach((e=>{t!=e&&e.toggle()})),!t.selected&&this.forceSelection&&0==this.selectedEntries.length&&t.toggle(),this.dispatchEvent(new St(t,this.selectedValues)),this}selectByIndex(t,e=Tt){return t=e(t,this.entries.length-1,0),this.select(this.entries[t])}deselectAll(){this.selectedEntries.forEach((t=>t.toggle()))}reset(){this.deselectAll(),this.onEntryClick(this.enabledEntries[0])}get enabledEntries(){return this.entries.filter((t=>t.enabled))}get enabledValues(){return this.enabledEntries.map((t=>t.value))}find(t){return this.entries.find((e=>e.value==t))}findAll(...t){return this.entries.filter((e=>t.includes(e.value)))}enable(t,...e){e.forEach((e=>{e instanceof exports.TurboSelectEntry?e.enabled=t:this.find(e).enabled=t}))}get selectedEntries(){return this.entries.filter((t=>t.selected))}get selectedEntry(){return this.entries.find((t=>t.selected))}get selectedValues(){return this.selectedEntries.map((t=>t.value))}get selectedValue(){return this.selectedEntry.value}get stringSelectedValue(){return this.selectedEntries.map((t=>t.stringValue)).join(", ")}get values(){return this.entries.map((t=>t.value))}set values(t){const e=[];this.entries.forEach(((n,i)=>{n.selected&&i<t.length&&e.push(i)}));for(const t of this.entries)t.remove();this.entries.splice(0,this.entries.length);for(const e of t)this.addEntry(e);for(const t of e)this.select(this.entries[t])}},exports.TurboSelect=bt=C([l("turbo-select")],exports.TurboSelect);var Mt;dt("turbo-dropdown{display:inline-block;position:relative}turbo-dropdown>turbo-popup{background-color:#fff;border:.1em solid #5e5e5e;border-radius:.4em;display:flex;flex-direction:column;overflow:hidden}turbo-dropdown>turbo-popup>turbo-select-entry{padding:.5em}turbo-dropdown>turbo-popup>turbo-select-entry:not(:last-child){border-bottom:.1em solid #bdbdbd}"),exports.TurboDropdown=class extends exports.TurboSelect{static{Mt=this}selector;popup;popupOpen=!1;static config={defaultEntryTag:"h4",defaultSelectorTag:"h4"};constructor(t){t.entriesParent=t.popup||Et(),super(t),this.selector=t.selector instanceof HTMLElement?t.selector:xt({buttonText:"",customTextTag:t.customSelectorTag||Mt.config.defaultSelectorTag}),this.popup=t.entriesParent,this.initPopup(t),this.initSelector(t),document.addEventListener(Z.click,(t=>{this.popupOpen&&!this.contains(t.target)&&this.openPopup(!1)}))}initSelector(t){this.selector instanceof exports.TurboButton&&(this.selector.buttonText="string"==typeof t.selector?t.selector:"string"==typeof t.values[0]?t.values[0]:t.values[0].value),this.selector.addListener(Z.click,(t=>{this.openPopup(!this.popupOpen),t.stopImmediatePropagation()})),this.addChild(this.selector),this.selector.addClass(t.customSelectorClasses?t.customSelectorClasses:Mt.config.defaultSelectorClasses)}initPopup(t){this.addChild(this.popup),this.popup.show(!1),this.popup.addClass(t.customPopupClasses?t.customPopupClasses:Mt.config.defaultPopupClasses)}onEntryClick(t){super.onEntryClick(t),this.openPopup(!1)}select(t){return super.select(t),this.selector instanceof exports.TurboButton&&(this.selector.buttonText=this.selectedValue),this}openPopup(t){this.popupOpen!=t&&(this.popupOpen=t,this.popup,this.popup.show(t))}},exports.TurboDropdown=Mt=C([l("turbo-dropdown")],exports.TurboDropdown);function wt(t,e,n,i,s,r=!0){if(r){const i=Math.max(e,n),s=Math.min(e,n);t>i&&(t=i),t<s&&(t=s)}return i+(t-e)*(s-i)/(n-e)}function Pt(t){if(!t)return NaN;const e=parseInt(t.substring(1),16);return.2126*((e>>16&255)/255)+.7152*((e>>8&255)/255)+.0722*((e>>0&255)/255)}function Ct(t,e){if(!t||!e)return NaN;const n=Pt(t),i=Pt(e);return(Math.max(n,i)+.1)/(Math.min(n,i)+.1)}function kt(t,...e){let n="";return t.forEach(((t,i)=>{n+=t+(e[i]||"")})),n}dt("turbo-dropdown-entry{padding:.5em .7em;width:100%}turbo-dropdown-entry:hover{background-color:#d7d7d7}turbo-dropdown-entry:not(:last-child){border-bottom:.1em solid #bdbdbd}"),exports.TurboDropdownEntry=class extends exports.TurboSelectEntry{constructor(t){super(t)}},exports.TurboDropdownEntry=C([l("turbo-dropdown-entry")],exports.TurboDropdownEntry),exports.MarkingMenu=class extends exports.TurboSelect{transition;semiMajor;semiMinor;currentOrigin;minDragDistance;set startAngle(t){}set endAngle(t){}constructor(t={}){super({...t}),super.show(!1),this.startAngle=0,this.endAngle=t.endAngle??2*Math.PI,this.semiMajor=t.semiMajor??50,this.semiMinor=t.semiMinor??45,this.minDragDistance=t.minDragDistance??20,this.transition=t.transition instanceof N?t.transition:this.initializeTransition(t.transition??{}),this.transition.initialize(exports.InOut.out,this.entries),this.setStyles({position:"fixed",top:0,left:0}),this.showTransition=this.showTransition.clone(),this.showTransition.delay={out:(t,e)=>.13+.02*e,in:0},this.initEvents()}get totalAngle(){let t=this.endAngle-this.startAngle;for(;t>2*Math.PI;)t-=2*Math.PI;return t}initEvents(){const t=()=>{this.isShown&&this.show(!1)};document.addEventListener(Z.scroll,t),document.addEventListener(Z.dragStart,t)}initializeTransition(t){return t.properties||(t.properties="opacity transform"),null==t.duration&&(t.duration=.1),t.timingFunction||(t.timingFunction={in:"ease-out",out:"ease-in"}),t.delay||(t.delay={in:t=>.01+.02*t,out:(t,e)=>.01+.02*(e-t)}),t.defaultStyles||(t.defaultStyles={in:(t,e)=>{const n=this.computeAngle(t,e),i=this.semiMajor*Math.cos(n),s=this.semiMinor*Math.sin(n);return{opacity:1,top:s+"px",left:i+"px",transform:`translate3d(${-50*(1-i/this.semiMajor)}%, ${-50*(1-s/this.semiMinor)}%, 0)`}},out:{opacity:0,transform:"translate3d(-50%, -50%, 0)"}}),_(t)}computeAngle(t,e){const n=e-(this.totalAngle<2*Math.PI?1:0);let i=this.totalAngle*t/n+this.startAngle;for(i+=.2*Math.sin(2*(i+Math.PI/2));i<0;)i+=2*Math.PI;for(;i>=2*Math.PI;)i-=2*Math.PI;return i}addEntry(t){return t=super.addEntry(t),this.transition?.initialize(this.isShown?exports.InOut.in:exports.InOut.out,t,!0),t.setStyles({position:"absolute"}),t}show(t=!this.isShown,e){return this.currentOrigin=e||new rt(this.offsetLeft,this.offsetTop),e&&t&&this.setStyle("transform",`translate3d(${e.x}px, ${e.y}px, 0)`),this.transition.apply(t?exports.InOut.in:exports.InOut.out,this.enabledEntries),super.show(t),this}getEntryInDirection(t){if(!this.currentOrigin)return null;if(rt.dist(t,this.currentOrigin)<this.minDragDistance)return null;let e=Math.atan2(t.y-this.currentOrigin.y,t.x-this.currentOrigin.x);e<0&&(e+=2*Math.PI);let n=null,i=1/0;return this.enabledEntries.forEach(((t,s)=>{const r=this.computeAngle(s,this.enabledEntries.length),o=Math.abs(r-e);o<i&&(i=o,n=t)})),n}},C([t({callBefore:t=>t-Math.PI/2})],exports.MarkingMenu.prototype,"startAngle",null),C([t({callBefore:t=>t-Math.PI/2})],exports.MarkingMenu.prototype,"endAngle",null),exports.MarkingMenu=C([l("turbo-marking-menu")],exports.MarkingMenu),exports.TurboSelectWheel=class extends exports.TurboSelect{transition;sizePerEntry=[];direction;opacity;scale;size;dragging;openTimeout;constructor(t){t.multiSelection=!1,t.forceSelection=!0,super(t),this.opacity=t.opacity??{max:1,min:0},this.scale=t.scale??{max:1,min:.5},this.size="object"==typeof t.size?t.size:{max:t.size??100,min:-(t.size??100)},this.direction=t.direction||exports.Direction.horizontal,this.transition=t.transition instanceof N?t.transition:this.initializeTransition(t.transition??{}),this.setStyles({display:"block",position:"relative",margin:"100px"}),this.index=0,this.open=!1,this.initEvents(),requestAnimationFrame((()=>{this.transition.apply(exports.InOut.out,this.entries),this.snapTo(0)}))}initializeTransition(t){return t.properties||(t.properties="opacity transform"),null==t.duration&&(t.duration=.2),t.timingFunction||(t.timingFunction="ease-in-out"),_(t)}reloadStyles(t=!1){const e=this.transition.getEnabledEntriesData();t&&e.forEach((t=>{const e=t.element[this.direction==exports.Direction.vertical?"offsetHeight":"offsetWidth"];this.sizePerEntry[t.elementIndex]?this.sizePerEntry[t.elementIndex]=e:this.sizePerEntry.push(e)}));const n=this.sizePerEntry[0],i=n/2,s=this.sizePerEntry[e.length-1],r=s/2;let o=Math.floor(this.index),l=-Math.abs(this.index-o)*this.sizePerEntry[this.flooredTrimmedIndex],a=l;for(;o>=e.length;)a-=n,o--;for(;o<0;)l+=s,o++;a<this.size.min+i&&(a=this.size.min+i),l>this.size.max+r&&(l=this.size.max+r),this.applyStyling(e[o].element,o==e.length-1?a:l,i,r);for(let t=o-1;t>=0;t--)a-=this.sizePerEntry[t],a<this.size.min+i&&(a=this.size.min+i),this.applyStyling(e[t].element,a,i,r);for(let t=o+1;t<e.length;t++)l+=this.sizePerEntry[t],l>this.size.max+r&&(l=this.size.max+r),this.applyStyling(e[t].element,l,i,r)}applyStyling(t,e,n=this.sizePerEntry[0]/2,i=this.sizePerEntry[this.sizePerEntry.length-1]/2){let s,r;e>0?(s=wt(e,0,this.size.max+i,this.opacity.max,this.opacity.min),r=wt(e,0,this.size.max+i,this.scale.max,this.scale.min)):(s=Math.abs(wt(e,0,this.size.min+n,this.opacity.max,this.opacity.min)),r=Math.abs(wt(e,0,this.size.min+n,this.scale.max,this.scale.min))),t.setStyles({opacity:s,transform:`translate3d(\n                        calc(${this.direction==exports.Direction.horizontal?e:0}px - 50%), \n                        calc(${this.direction==exports.Direction.vertical?e:0}px - 50%),\n                        0) scale3d(${r}, ${r}, 1)`})}set index(t){this.selectByIndex(this.trimmedIndex)}get trimmedIndex(){return Tt(Math.round(this.index),this.entries.length-1)}get flooredTrimmedIndex(){return Tt(Math.floor(this.index),this.entries.length-1)}set open(t){this.setStyle("overflow",t?"visible":"hidden")}onEntryClick(t,e){super.onEntryClick(t,e),e.stopImmediatePropagation(),this.open=!0,this.snapTo(this.entries.indexOf(t)),this.setOpenTimeout()}addEntry(t){return(t=super.addEntry(t)).setStyles({position:"absolute",left:"50%",top:"50%"}),t.addEventListener(Z.dragStart,(t=>{t.stopImmediatePropagation(),this.clearOpenTimeout(),this.open=!0,this.dragging=!0,this.transition.enabled=exports.TransitionMode.stylesOnly,this.reloadStyles(!0)})),this.transition&&(this.transition.attach(t),this.transition.apply(),this.reloadStyles(!0)),t}reset(){this.snapTo(0)}snapTo(t){this.index=t,this.transition.enabled=exports.TransitionMode.enabled,this.reloadStyles(!0);const e=getComputedStyle(this.selectedEntry);this.setStyles({minWidth:e.width,minHeight:e.height},!0)}clearOpenTimeout(){this.openTimeout&&clearTimeout(this.openTimeout)}setOpenTimeout(){this.clearOpenTimeout(),this.openTimeout=setTimeout((()=>this.open=!1),3e3)}initEvents(){const t=this.direction==exports.Direction.vertical?"y":"x";document.addEventListener(Z.drag,(e=>{this.dragging&&(e.stopImmediatePropagation(),this.index-=e.scaledDeltaPosition[t]/this.sizePerEntry[this.flooredTrimmedIndex],this.reloadStyles())})),document.addEventListener(Z.dragEnd,(t=>{this.dragging&&(t.stopImmediatePropagation(),this.dragging=!1,this.snapTo(this.trimmedIndex),this.setOpenTimeout())})),document.addEventListener(Z.click,(()=>this.open=!1))}},C([t()],exports.TurboSelectWheel.prototype,"index",null),C([t()],exports.TurboSelectWheel.prototype,"open",null),exports.TurboSelectWheel=C([l("turbo-select-wheel")],exports.TurboSelectWheel);const Dt={900:{Black:"normal",BlackItalic:"italic"},800:{ExtraBold:"normal",ExtraBoldItalic:"italic"},700:{Bold:"normal",BoldItalic:"italic"},600:{SemiBold:"normal",SemiBoldItalic:"italic"},500:{Medium:"normal",MediumItalic:"italic"},400:{Regular:"normal",Italic:"italic"},300:{Light:"normal",LightItalic:"italic"},200:{ExtraLight:"normal",ExtraLightItalic:"italic"},100:{Thin:"normal",ThinItalic:"italic"}};function It(t,e,n,i,s){return kt`
        @font-face {
            font-family: "${t}";
            src: local("${t}"), url("${e}") format("${n}");
            font-weight: "${i}";
            font-style: "${s}";
        }`}exports.DefaultEventName=Z,exports.Delegate=H,exports.MathMLNamespace=f,exports.MathMLTagsDefinitions=y,exports.Point=rt,exports.SvgNamespace=m,exports.SvgTagsDefinitions=g,exports.Transition=N,exports.TransitionHandler=V,exports.TurboClickEventName=U,exports.TurboDragEvent=ot,exports.TurboDragEventName=X,exports.TurboElement=G,exports.TurboEvent=st,exports.TurboEventManager=class{_inputDevice=exports.InputDevice.unknown;onInputDeviceChange;defaultState={};lockState={};disabledEventTypes={};currentKeys=[];currentAction=exports.ActionMode.none;currentClick=exports.ClickMode.none;wasRecentlyTrackpad=!1;origins;previousPositions;timerMap;moveThreshold;longPressDuration;constructor(t={}){this.onInputDeviceChange=new H,this.defaultState={enabled:t.enabled??!0,preventDefaultWheel:t.preventDefaultWheel??!0,preventDefaultMouse:t.preventDefaultMouse??!0,preventDefaultTouch:t.preventDefaultTouch??!0},this.resetLockState(),this.disabledEventTypes={...t},this.moveThreshold=t.moveThreshold||10,this.longPressDuration=t.longPressDuration||500,this.origins=new ut,this.previousPositions=new ut,this.timerMap=new ut;for(let t in J)Z[t]=J[t];this.initEvents(),ct(this)}initEvents(){try{this.disabledEventTypes.disableKeyEvents||(document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),this.applyEventNames(K)),this.disabledEventTypes.disableWheelEvents||(document.addEventListener("wheel",this.wheel,{passive:!1}),this.applyEventNames(Y)),this.disabledEventTypes.disableMoveEvent||this.applyEventNames(q),this.disabledEventTypes.disableMouseEvents||(document.addEventListener("mousedown",this.pointerDown),document.addEventListener("mousemove",this.pointerMove),document.addEventListener("mouseup",this.pointerUp),document.addEventListener("mouseleave",this.pointerLeave)),this.disabledEventTypes.disableTouchEvents||(document.addEventListener("touchstart",this.pointerDown,{passive:!1}),document.addEventListener("touchmove",this.pointerMove,{passive:!1}),document.addEventListener("touchend",this.pointerUp,{passive:!1}),document.addEventListener("touchcancel",this.pointerUp,{passive:!1})),this.disabledEventTypes.disableMouseEvents&&this.disabledEventTypes.disableTouchEvents||(this.disabledEventTypes.disableClickEvents||this.applyEventNames(U),this.disabledEventTypes.disableDragEvents||this.applyEventNames(X))}catch(t){console.error("Error initializing events: ",t)}}destroy(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),document.removeEventListener("wheel",this.wheel),document.removeEventListener("mousedown",this.pointerDown),document.removeEventListener("mousemove",this.pointerMove),document.removeEventListener("mouseup",this.pointerUp),document.removeEventListener("mouseleave",this.pointerLeave),document.removeEventListener("touchstart",this.pointerDown),document.removeEventListener("touchmove",this.pointerMove),document.removeEventListener("touchend",this.pointerUp),document.removeEventListener("touchcancel",this.pointerUp)}get inputDevice(){return this._inputDevice}set inputDevice(t){this.inputDevice!=t&&(t==exports.InputDevice.trackpad&&(this.wasRecentlyTrackpad=!0),this._inputDevice=t,this.onInputDeviceChange.fire(t))}setLockState(t,e){this.lockState.lockOrigin=t;for(const t in e)this.lockState[t]=e[t]}resetLockState(){this.lockState.enabled=this.defaultState.enabled,this.lockState.preventDefaultWheel=this.defaultState.preventDefaultWheel,this.lockState.preventDefaultMouse=this.defaultState.preventDefaultMouse,this.lockState.preventDefaultTouch=this.defaultState.preventDefaultTouch,this.lockState.lockOrigin=document.body}get enabled(){return this.defaultState.enabled&&this.lockState.enabled}get preventDefaultWheel(){return this.defaultState.preventDefaultWheel&&this.lockState.preventDefaultWheel}get preventDefaultMouse(){return this.defaultState.preventDefaultMouse&&this.lockState.preventDefaultMouse}get preventDefaultTouch(){return this.defaultState.preventDefaultTouch&&this.lockState.preventDefaultTouch}keyDown=t=>{this.enabled&&(this.currentKeys.includes(t.key)||(this.currentKeys.push(t.key),document.dispatchEvent(new lt(t.key,null,this.currentClick,this.currentKeys,J.keyPressed))))};keyUp=t=>{this.enabled&&this.currentKeys.includes(t.key)&&(this.currentKeys.splice(this.currentKeys.indexOf(t.key),1),document.dispatchEvent(new lt(null,t.key,this.currentClick,this.currentKeys,J.keyReleased)))};wheel=t=>{if(!this.enabled)return;let e;this.preventDefaultWheel&&t.preventDefault(),(Math.abs(t.deltaY)<=40||0!=t.deltaX)&&(this.inputDevice=exports.InputDevice.trackpad),this.wasRecentlyTrackpad||(this.inputDevice=exports.InputDevice.mouse),this.clearTimer("recentlyTrackpadTimer"),this.setTimer("recentlyTrackpadTimer",(()=>{this.inputDevice==exports.InputDevice.trackpad&&(this.wasRecentlyTrackpad=!1)}),800),e=this.inputDevice==exports.InputDevice.trackpad&&t.ctrlKey?J.trackpadPinch:this.inputDevice==exports.InputDevice.trackpad?J.trackpadScroll:J.mouseWheel,document.dispatchEvent(new at(new rt(t.deltaX,t.deltaY),this.currentKeys,e))};pointerDown=t=>{if(t.composedPath().includes(this.lockState.lockOrigin)||this.resetLockState(),!this.enabled)return;const e=t instanceof TouchEvent;if(this.preventDefaultMouse&&!e&&t.preventDefault(),this.preventDefaultTouch&&e&&t.preventDefault(),e?this.inputDevice=exports.InputDevice.touch:this.inputDevice!=exports.InputDevice.unknown&&this.inputDevice!=exports.InputDevice.touch||(this.inputDevice=exports.InputDevice.mouse),e)Array.from(t.changedTouches).forEach((t=>{const e=new rt(t);this.origins.set(t.identifier,e),this.previousPositions.set(t.identifier,e)})),this.setClickMode(t.touches.length,!0);else{const e=new rt(t);this.origins.set(0,e),this.previousPositions.set(0,e),this.setClickMode(t.button)}this.disabledEventTypes.disableClickEvents||(this.fireClick(this.origins.first,J.clickStart),this.currentAction=exports.ActionMode.click,this.setTimer(J.longPress,(()=>{this.currentAction==exports.ActionMode.click&&(this.currentAction=exports.ActionMode.longPress,this.fireClick(this.origins.first,J.longPress))}),this.longPressDuration))};pointerMove=t=>{if(!this.enabled)return;if(this.disabledEventTypes.disableMoveEvent&&this.disabledEventTypes.disableDragEvents)return;const e=t instanceof TouchEvent;this.preventDefaultMouse&&!e&&t.preventDefault(),this.preventDefaultTouch&&e&&t.preventDefault();const n=new ut;if(e?Array.from(t.touches).forEach((t=>n.set(t.identifier,new rt(t)))):n.set(0,new rt(t.clientX,t.clientY)),this.disabledEventTypes.disableMoveEvent||this.fireDrag(n,J.move),this.currentAction!=exports.ActionMode.none&&!this.disabledEventTypes.disableDragEvents){if(this.currentAction!=exports.ActionMode.drag){if(!Array.from(this.origins.entries()).some((([t,e])=>{const i=n.get(t);return i&&rt.dist(i,e)>this.moveThreshold})))return;o(this),this.fireDrag(this.origins,J.dragStart),this.currentAction=exports.ActionMode.drag}this.fireDrag(n)}n.forEach(((t,e)=>this.previousPositions.set(e,t)))};pointerUp=t=>{if(!this.enabled)return;const e=t instanceof TouchEvent;this.preventDefaultMouse&&!e&&t.preventDefault(),this.preventDefaultTouch&&e&&t.preventDefault(),this.clearTimer(J.longPress);const n=new ut;e?Array.from(t.changedTouches).forEach((t=>{n.set(t.identifier,new rt(t))})):n.set(0,new rt(t)),this.currentAction!=exports.ActionMode.drag||this.disabledEventTypes.disableDragEvents||this.fireDrag(n,J.dragEnd),this.disabledEventTypes.disableClickEvents||(this.currentAction==exports.ActionMode.click&&this.fireClick(n.first,J.click),this.fireClick(this.origins.first,J.clickEnd)),e?Array.from(t.changedTouches).forEach((t=>{this.origins.delete(t.identifier),this.previousPositions.delete(t.identifier)})):(this.origins.clear(),this.previousPositions.clear()),this.currentAction=exports.ActionMode.none,this.currentClick=exports.ClickMode.none};pointerLeave=()=>{this.enabled&&this.currentAction!=exports.ActionMode.none&&(this.clearTimer(J.longPress),this.currentAction!=exports.ActionMode.drag&&(this.fireClick(this.origins.first,J.clickEnd),this.currentAction=exports.ActionMode.none))};getFireOrigin(t){const e=this.origins.first?this.origins.first:t.first;return document.elementFromPoint(e.x,e.y)||document}fireClick(t,e=J.click){if(!t)return;(document.elementFromPoint(t.x,t.y)||document).dispatchEvent(new st(t,this.currentClick,this.currentKeys,e))}fireDrag(t,e=J.drag){t&&this.getFireOrigin(t).dispatchEvent(new ot(this.origins,this.previousPositions,t,this.currentClick,this.currentKeys,e))}setTimer(t,e,n){this.clearTimer(t),this.timerMap.set(t,setTimeout((()=>{e(),this.clearTimer(t)}),n))}clearTimer(t){const e=this.timerMap.get(t);e&&(clearTimeout(e),this.timerMap.delete(t))}setClickMode(t,e=!1){switch(e&&t--,t){case-1:return void(this.currentClick=exports.ClickMode.none);case 0:return void(this.currentClick=exports.ClickMode.left);case 1:return void(this.currentClick=exports.ClickMode.middle);case 2:return void(this.currentClick=exports.ClickMode.right);default:return void(this.currentClick=exports.ClickMode.other)}}applyEventNames(t){for(const e in t)Z[e]=t[e]}},exports.TurboEventName=J,exports.TurboKeyEvent=lt,exports.TurboKeyEventName=K,exports.TurboMap=ut,exports.TurboMoveName=q,exports.TurboSelectInputEvent=St,exports.TurboWheelEvent=at,exports.TurboWheelEventName=Y,exports.a=function(t={}){return E({...t,tag:"a"})},exports.addChildManipulationToElementPrototype=j,exports.addClassManipulationToElementPrototype=R,exports.addElementManipulationToElementPrototype=B,exports.addListenerManipulationToElementPrototype=$,exports.addStylesManipulationToElementPrototype=W,exports.areEqual=function(...t){if(t.length<2)return!0;for(let e=0;e<t.length-1;e++)if(t[e]!=t[e+1])return!1;return!0},exports.auto=t,exports.bestOverlayColor=function(t,e="#000000",n="#FFFFFF"){return Ct(t,n)>Ct(e,t)?n:e},exports.blindElement=function(t={}){let e;return e=b(t.tag)?document.createElementNS(m,t.tag||"svg"):x(t.tag)?document.createElementNS(f,t.tag||"math"):document.createElement(t.tag||"div"),t.shadowDOM&&e.attachShadow({mode:"open"}),e.setProperties(t),e},exports.button=xt,exports.cache=i,exports.callOnce=e,exports.callOncePerInstance=n,exports.camelToKebabCase=h,exports.canvas=function(t={}){return E({...t,tag:"canvas"})},exports.clearCache=o,exports.clearCacheEntry=function(t,e){const n="function"==typeof e?e.name:e,i=Object.getOwnPropertySymbols(t).find((t=>t.toString()===`Symbol(__cache__${n})`));i&&t[i]&&delete t[i]},exports.contrast=Ct,exports.css=kt,exports.define=l,exports.div=function(t={}){return E({...t,tag:"div"})},exports.dropdown=function(t){return new exports.TurboDropdown(t)},exports.dropdownEntry=function(t){return new exports.TurboDropdownEntry(t)},exports.eachEqualToAny=F,exports.element=E,exports.fetchSvg=pt,exports.flexCol=M,exports.flexColCenter=function(t){const e=M(t);return e.setStyles({justifyContent:"center",alignItems:"center"},!0),e},exports.flexRow=w,exports.flexRowCenter=function(t){const e=w(t);return e.setStyles({justifyContent:"center",alignItems:"center"},!0),e},exports.form=function(t={}){return E({...t,tag:"form"})},exports.generateTagFunction=function(t){return(e={})=>(e.tag=t,E({...e,tag:t}))},exports.getFileExtension=u,exports.h1=function(t={}){return E({...t,tag:"h1"})},exports.h2=function(t={}){return E({...t,tag:"h2"})},exports.h3=function(t={}){return E({...t,tag:"h3"})},exports.h4=function(t={}){return E({...t,tag:"h4"})},exports.h5=function(t={}){return E({...t,tag:"h5"})},exports.h6=function(t={}){return E({...t,tag:"h6"})},exports.icon=function(t){return new exports.TurboIcon(t)},exports.iconToggle=function(t){return new exports.TurboIconToggle(t)},exports.img=v,exports.input=S,exports.isMathMLTag=x,exports.isNull=A,exports.isSvgTag=b,exports.isUndefined=function(t){return void 0===t},exports.kebabToCamelCase=p,exports.linearInterpolation=wt,exports.link=function(t={}){return E({...t,tag:"link"})},exports.loadLocalFont=function(t){t.name&&t.pathOrDirectory||console.error("Please specify font name and path/directory");const e=0==u(t.pathOrDirectory).length;t.stylesPerWeights||(t.stylesPerWeights=e?Dt:{normal:"normal"}),t.format||(t.format="woff2"),t.extension||(t.extension=".ttf"),"."!=t.extension[0]&&(t.extension="."+t.extension),P(Object.entries(t.stylesPerWeights).map((([e,n])=>"string"==typeof n?It(t.name,t.pathOrDirectory,t.format,e,n):Object.entries(n).map((([n,i])=>It(t.name,`${t.pathOrDirectory}/${t.name}-${n}${t.extension}`,t.format,e,i))).join("\n"))).join("\n"))},exports.luminance=Pt,exports.mod=function(t,e=0){for(;t<0;)t-=e;for(;t>=e;)t+=e;return t},exports.numericalInput=function(t={}){return new exports.TurboNumericalInput(t)},exports.observe=d,exports.p=function(t={}){return E({...t,tag:"p"})},exports.parse=c,exports.popup=Et,exports.select=function(t){return new exports.TurboSelect(t)},exports.selectEntry=vt,exports.selectWheel=function(t){return new exports.TurboSelectWheel(t)},exports.setupTurboEventManagerBypassing=ct,exports.spacer=function(t){const e=E(t);return e.setStyle("flexGrow",1,!0),e},exports.span=function(t={}){return E({...t,tag:"span"})},exports.stringify=a,exports.style=T,exports.stylesheet=P,exports.textToElement=ht,exports.textarea=function(t={}){return E({...t,tag:"textarea"})},exports.transition=_,exports.trim=Tt,exports.turboInput=function(t={}){return new exports.TurboInput(t)},exports.turbofy=function(){R(),j(),$(),B(),W(),z()},exports.updateChainingPropertiesInElementPrototype=z,exports.video=function(t={}){return E({...t,tag:"video"})};
